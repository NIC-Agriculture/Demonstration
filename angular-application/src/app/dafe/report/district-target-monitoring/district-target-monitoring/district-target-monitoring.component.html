<div class="card">
    <div class="card-header">
        <h5>View Target</h5>
        <div class="card-header-right">
            <i class="icofont icofont-rounded-down"></i>
            <i class="icofont icofont-refresh"></i>
            <i class="icofont icofont-close-circled"></i>
          </div>
    </div>
          <div class="card-block">
            <div class="row">
                <div class="col-sm-12">
                  <div class="row">
                    <div class="col-md-12">
                        <form [formGroup]="ViewTargetForm">
                            <div class="row">
                                <div class="col-lg-6 col md-6">
                                    <div class="form-group row">
                                      <div class="col-sm-4 col-lg-3">
                                        <label class="block" for="fuel">Scheme <label class="asterik">*</label>:</label>
                                      </div>
                                      <div class="col-sm-4 col-lg-9">
                                        <select required formControlName="scheme" id="scheme" class="form-control form-control-default"
                                          (change)="getSubscheme()">
                                          <option value="">--Select--</option>
                                          <option [ngValue]="x" *ngFor="let x of AllSchemeData">
                                            {{ x.schemeName }}
                                          </option>
                                        </select>
                                        <div class="text-danger" *ngIf="viewFormValid.scheme.touched && !viewFormValid.scheme.valid">
                                          Scheme is required.
                                        </div>
                                      </div>
                                    </div>
                
                                    <div class="form-group row">
                                      <div class="col-sm-4 col-lg-3">
                                        <label class="block" for="component">Component <label class="asterik">*</label>:</label>
                                      </div>
                                      <div class="col-sm-4 col-lg-9">
                                        <select required formControlName="component" id="component"
                                          class="form-control form-control-default" (change)="getComponentCost(); " >
                                          <option value="">--Select--</option>
                                          <option [ngValue]="x" *ngFor="let x of ComponentData">
                                            {{ x.CompName }}
                                          </option>
                                        </select>
                                        <div class="text-danger" *ngIf="viewFormValid.component.touched && !viewFormValid.component.valid">
                                        Component is required.
                                      </div>
                                      </div>
                                    </div>
                
                                    <div class="form-group row">
                                      <div class="col-sm-4 col-lg-3">
                                        <label class="block" for="FinYear">Financial Year <label class="asterik">*</label>:</label>
                                      </div>
                                      <div class="col-sm-4 col-lg-9">
                                        <select  formControlName="FinYear" id="FinYear"
                                          class="form-control form-control-default" required>
                                          <option value="">--Select--</option>
                                          <option [ngValue]="x" *ngFor="let x of FinYears"> {{ x }} </option>
                                        </select>
                                        <div class="text-danger" *ngIf="viewFormValid.FinYear.touched && !viewFormValid.FinYear.valid">
                                        Financial Year is required.
                                      </div>
                                        
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-lg-6 col md-6">
                                    <div class="form-group row">
                                      <div class="col-sm-4 col-lg-3">
                                        <label class="block" for="subscheme">Subscheme <label class="asterik">*</label>:</label>
                                      </div>
                                      <div class="col-sm-4 col-lg-9">
                                        <select required formControlName="subscheme" id="subscheme"
                                          class="form-control form-control-default" (change)="getComponent();">
                                          <option value="">--Select--</option>
                                          <option [ngValue]="x" *ngFor="let x of SubschemeData">
                                            {{ x.SubschemeName }}
                                          </option>
                                        </select>
                                        <div class="text-danger" *ngIf="viewFormValid.subscheme.touched && !viewFormValid.subscheme.valid">
                                        Subscheme is required.
                                      </div>
                                      </div>
                                    </div>
                                    <div class="form-group row">
                                      <div class="col-sm-4 col-lg-3">
                                        <label class="block" for="subsidy">Total Cost <label class="asterik">*</label>:</label>
                                      </div>
                                      <div class="col-sm-4 col-lg-9">
                                        <input type="text" required class="form-control form-control-default"
                                          formControlName="subsidy" />
                                          <div class="text-danger" *ngIf="viewFormValid.subsidy.touched && !viewFormValid.subsidy.valid">
                                          Total Cost is required.
                                        </div>
                                      </div>
                                    </div>
                                    <!-- <div>
                                      <button (click)="loadAllDistrictTarget();" class="btn btn-primary mat-elevation-z8 float-right">Set Target</button>
                                    </div> -->
                                    <div style="padding: 20px">
                                      <button  type="button" class="btn btn-primary mat-elevation-z8"
                                        style="float: right" (click)="loadAllDistrictTarget();" [disabled]="!ViewTargetForm.valid">
                                        View Target </button>
                                    </div>
                
                                  </div>

                            </div>
                        </form>
                    </div>
                  </div>
                </div>
          </div>
    </div>
</div>



<div class="card" *ngIf="viewTargetCard">
    <div class="card-header">
      <h5>View Target</h5>
      <!-- <span>Set target for district</span> -->
      <div class="card-header-right">
        <i class="icofont icofont-rounded-down"></i>
        <i class="icofont icofont-refresh"></i>
        <i class="icofont icofont-close-circled"></i>
      </div>
    </div>
    <div class="card-block table-card" id="print-section">
      <div class="table-responsive">
        <table class="table table-striped table-bordered">
          <colgroup>
            <col>
            <col>
            <col>
            <col>
            <col>
            <col>
            <col>
            <col>
            <col style="background-color:#92A8D1">
            <col style="background-color:#F7CAC9">
          </colgroup>
          <thead>
            <tr>
              <th rowspan="2" style="vertical-align : middle;text-align:center;">District</th>
            <th rowspan="2" style="vertical-align : middle;text-align:center;">Target Details</th>
            <th colspan="2" style="vertical-align : middle;text-align:center;">Physical-GEN (ha)</th>
            <th colspan="2" style="vertical-align : middle;text-align:center;">Physical-SCP (ha)</th>
            <th colspan="2" style="vertical-align : middle;text-align:center;">Physical-TASP (ha)</th>
            <th colspan="2" style="vertical-align : middle;text-align:center;">Total-PHY (ha)</th>
              <!-- <th>Action</th> -->
            </tr>
            <tr>
              <!-- <th></th>
              <th></th> -->
              <th>Available Target</th>
              <th>Distributed Target</th>
              <th>Available Target</th>
              <th>Distributed Target</th>
              <th>Available Target</th>
              <th>Distributed Target</th>
              <th>Available Target</th>
              <th>Distributed Target</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th>Total <i class="icofont icofont-arrow-right float-right text-primary"></i></th>
              <th></th>
              <th>{{ totalPhyGen | number : '1.2-2' }}</th>
              <th>{{ totalFinGen | number : '1.2-2' }}</th>
              <th>{{ totalPhySCP | number : '1.2-2' }}</th>
              <th>{{ totalFinSCP | number : '1.2-2' }}</th>
              <th>{{ totalPhyTASP | number : '1.2-2' }}</th>
              <th>{{ totalFinTASP | number : '1.2-2' }}</th>
              <th>{{ totalPhy | number : '1.2-2' }}</th>
              <th>{{ totalFin | number : '1.2-2' }}</th>
            </tr>
            <tr *ngFor="let dist of AllDistrictData; let i = index">
              <th scope="row">{{ dist.Dist_Name }}</th>
              <td scope="row">
                <!-- <span class="tabledit-span"> Distributed: {{ dist.distributedTarget }} </span> 
                <br> -->
                <span class="tabledit-span"> Total Target: <br> {{ dist.totalTarget }} </span>
              </td>

              <td class="tabledit-view-mode">
                <span class="tabledit-span"> {{ dist.PhyGen || 0 }} </span>
                
              </td>
              <td class="tabledit-view-mode"> {{ dist.DistributedPhyGen || 0 }} </td>

              <td class="tabledit-view-mode">
                <span class="tabledit-span"> {{ dist.PhySCP || 0 }} </span>
                
              </td>
              <td class="tabledit-view-mode"> {{ dist.DistributedPhySCP || 0 }} </td>

              <td class="tabledit-view-mode">
                <span class="tabledit-span"> {{ dist.PhyTASP || 0 }} </span>
                
              </td>
              <td class="tabledit-view-mode"> {{ dist.DistributedPhyTASP || 0 }} </td>

              <td class="tabledit-view-mode">{{ dist.totalPhyByDistrict | number }} </td>
              <td class="tabledit-view-mode"> {{ dist.totalFinByDistrict | number }}</td>
            </tr>

            <tr style="background-color: #edfcb4">
              <th>Total</th>
              <th> {{ totalTarget }} </th>
              <th>{{ totalPhyGen | number : '1.2-2' }}</th>
              <th>{{ totalFinGen | number : '1.2-2' }}</th>
              <th>{{ totalPhySCP | number : '1.2-2' }}</th>
              <th>{{ totalFinSCP | number : '1.2-2' }}</th>
              <th>{{ totalPhyTASP | number : '1.2-2' }}</th>
              <th>{{ totalFinTASP | number : '1.2-2' }}</th>
              <th>{{ totalPhy | number : '1.2-2' }}</th>
              <th>{{ totalFin | number : '1.2-2' }}</th>
            </tr>
  
          </tbody>
  
        </table>
      </div>
      
    </div>
    <div class="card-block">

      <div class="row">
          <div class="col-md-12">
              <button 
              class="btn btn-primary mat-elevation-z8 float-right"  [useExistingCss]="true" 
              styleSheetFile="assets/css/custom1.css,assets/css/custom2.css"  printSectionId="print-section"  ngxPrint ><i class="icofont icofont-print"></i>Print</button>
          </div>
      </div>
  </div>
</div>



