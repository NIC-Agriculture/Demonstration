(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{uhs9:function(e,t,i){"use strict";i.r(t),i.d(t,"ViewItemModule",function(){return S});var o=i("ofXK"),c=i("tyNb"),r=i("mrSG"),b=i("3Pt+"),n=i("fXoL"),s=i("BSJL"),m=i("4TgG"),a=i("5eHb"),l=i("m1XX");function d(e,t){if(1&e&&(n.Vb(0,"option",27),n.Dc(1),n.Ub()),2&e){const e=t.$implicit;n.mc("ngValue",e),n.Db(1),n.Ec(e.schemeName)}}function h(e,t){1&e&&(n.Vb(0,"div",28),n.Dc(1," Scheme is required. "),n.Ub())}function u(e,t){if(1&e&&(n.Vb(0,"option",27),n.Dc(1),n.Ub()),2&e){const e=t.$implicit;n.mc("ngValue",e),n.Db(1),n.Ec(e.SubschemeName)}}function V(e,t){1&e&&(n.Vb(0,"div",28),n.Dc(1," Subscheme is required. "),n.Ub())}function v(e,t){if(1&e&&(n.Vb(0,"option",27),n.Dc(1),n.Ub()),2&e){const e=t.$implicit;n.mc("ngValue",e),n.Db(1),n.Ec(e.CompName)}}function f(e,t){1&e&&(n.Vb(0,"div",28),n.Dc(1," Component is required. "),n.Ub())}function p(e,t){if(1&e&&(n.Vb(0,"tr"),n.Vb(1,"td"),n.Dc(2),n.Ub(),n.Vb(3,"td"),n.Dc(4),n.Ub(),n.Vb(5,"td"),n.Dc(6),n.Ub(),n.Vb(7,"td"),n.Dc(8),n.Ub(),n.Ub()),2&e){const e=t.$implicit,i=t.index;n.Db(2),n.Fc(" ",i+1," "),n.Db(2),n.Fc(" ",e.CompName," "),n.Db(2),n.Fc(" ",e.ItemName," "),n.Db(2),n.Fc(" ",e.IndicativeCost," ")}}function g(e,t){if(1&e&&(n.Vb(0,"div"),n.Vb(1,"div",29),n.Vb(2,"div",6),n.Vb(3,"div",30),n.Vb(4,"table",31),n.Vb(5,"thead"),n.Vb(6,"tr"),n.Vb(7,"th"),n.Dc(8," # "),n.Ub(),n.Vb(9,"th"),n.Dc(10," Component "),n.Ub(),n.Vb(11,"th"),n.Dc(12," Item Name "),n.Ub(),n.Vb(13,"th"),n.Dc(14," Item Price "),n.Ub(),n.Ub(),n.Ub(),n.Vb(15,"tbody"),n.Cc(16,p,9,4,"tr",32),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Vb(17,"div",6),n.Vb(18,"div",8),n.Vb(19,"div",33),n.Vb(20,"button",34),n.Qb(21,"i",35),n.Dc(22,"Print"),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Ub()),2&e){const e=n.gc();n.Db(16),n.mc("ngForOf",e.ItemDtails),n.Db(4),n.mc("useExistingCss",!0)}}const D=[{path:"",component:(()=>{class e{constructor(e,t,i,o){this.schemeService=e,this.layoutService=t,this.fb=i,this.toastr=o,this.viewTargetTable=!1,this.getFinYear=()=>Object(r.a)(this,void 0,void 0,function*(){try{const e=yield this.layoutService.getFinYear().toPromise();this.FinYears=e.Years,this.Season=e.Season}catch(e){this.toastr.error("Sorry. Server problem. Please try again."),console.error(e)}}),this.getAllScheme=()=>Object(r.a)(this,void 0,void 0,function*(){try{this.AllSchemeData=yield this.schemeService.getAllScheme().toPromise()}catch(e){this.toastr.error("Sorry. Server problem. Please try again."),console.error(e)}}),this.getSubscheme=()=>Object(r.a)(this,void 0,void 0,function*(){try{const e=this.ViewItemForm.value.scheme.schemeId;this.SubschemeData=yield this.schemeService.getSubscheme(e).toPromise()}catch(e){this.toastr.error("Sorry. Server problem. Please try again."),console.error(e)}}),this.getComponent=()=>Object(r.a)(this,void 0,void 0,function*(){try{const e=this.ViewItemForm.value.subscheme.SubschemeId;this.ComponentData=yield this.schemeService.getComponent(e).toPromise()}catch(e){this.toastr.error("Sorry. Server problem. Please try again."),console.error(e)}}),this.getItemDetails=()=>Object(r.a)(this,void 0,void 0,function*(){try{this.viewTargetTable=!0;const e=this.ViewItemForm.value.component.CompId;this.ItemDtails=yield this.schemeService.getItemDetails(e).toPromise()}catch(e){this.toastr.error("Sorry. Server problem. Please try again."),console.error(e)}}),this.pageTitle="View Details",this.pageDesc="View Item details",this.breadcrumbList=["View Item Details"],this.ViewItemForm=this.fb.group({scheme:["",[b.s.required]],subscheme:["",[b.s.required]],component:["",[b.s.required]]})}ngOnInit(){setTimeout(()=>{this.layoutService.setTitle(this.pageTitle),this.layoutService.setPageHeadingDesc(this.pageDesc),this.layoutService.setBreadcrumb(this.breadcrumbList)}),this.getAllScheme(),this.getFinYear()}get ViewItemFormValid(){return this.ViewItemForm.controls}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(s.a),n.Pb(m.a),n.Pb(b.c),n.Pb(a.b))},e.\u0275cmp=n.Jb({type:e,selectors:[["app-view-item"]],decls:65,vars:9,consts:[[1,"card"],[1,"card-header"],[1,"card-header-right"],[1,"icofont","icofont-rounded-down"],[1,"icofont","icofont-refresh"],[1,"icofont","icofont-close-circled"],[1,"card-block"],[3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"col-lg-6","col","md-6"],[1,"form-group","row"],[1,"col-sm-4","col-lg-3"],["for","fuel",1,"block"],[1,"asterik"],[1,"col-sm-4","col-lg-9"],["id","scheme","formControlName","scheme",1,"form-control","form-control-default",3,"change"],["value","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["for","subscheme",1,"block"],["id","subscheme","formControlName","subscheme",1,"form-control","form-control-default",3,"change"],["for","component",1,"block"],["id","component","formControlName","component",1,"form-control","form-control-default"],["type","button",1,"btn","btn-primary","mat-elevation-z8",2,"float","right",3,"disabled","click"],["btn",""],[4,"ngIf"],[3,"ngValue"],[1,"text-danger"],["id","print-section"],[1,"dt-responsive","table-responsive"],["id","custom-btn",1,"table","table-bordered","table-hover"],[4,"ngFor","ngForOf"],[1,"col-md-12"],["styleSheetFile","assets/css/custom1.css,assets/css/custom2.css","printSectionId","print-section","ngxPrint","",1,"btn","btn-primary","mat-elevation-z8","float-right",3,"useExistingCss"],[1,"icofont","icofont-print"]],template:function(e,t){1&e&&(n.Vb(0,"div",0),n.Vb(1,"div",1),n.Vb(2,"h5"),n.Dc(3,"View Item"),n.Ub(),n.Vb(4,"span"),n.Dc(5,"View Item Details"),n.Ub(),n.Vb(6,"div",2),n.Qb(7,"i",3),n.Qb(8,"i",4),n.Qb(9,"i",5),n.Ub(),n.Ub(),n.Vb(10,"div",6),n.Vb(11,"form",7),n.Vb(12,"div",8),n.Vb(13,"div",9),n.Vb(14,"div",8),n.Vb(15,"div",10),n.Vb(16,"div",11),n.Vb(17,"div",12),n.Vb(18,"label",13),n.Dc(19,"Scheme "),n.Vb(20,"label",14),n.Dc(21,"*"),n.Ub(),n.Dc(22,":"),n.Ub(),n.Ub(),n.Vb(23,"div",15),n.Vb(24,"select",16),n.cc("change",function(){return t.getSubscheme()}),n.Vb(25,"option",17),n.Dc(26,"--Select--"),n.Ub(),n.Cc(27,d,2,2,"option",18),n.Ub(),n.Cc(28,h,2,0,"div",19),n.Ub(),n.Ub(),n.Ub(),n.Vb(29,"div",10),n.Vb(30,"div",11),n.Vb(31,"div",12),n.Vb(32,"label",20),n.Dc(33,"Subscheme "),n.Vb(34,"label",14),n.Dc(35,"*"),n.Ub(),n.Dc(36,":"),n.Ub(),n.Ub(),n.Vb(37,"div",15),n.Vb(38,"select",21),n.cc("change",function(){return t.getComponent()}),n.Vb(39,"option",17),n.Dc(40,"--Select--"),n.Ub(),n.Cc(41,u,2,2,"option",18),n.Ub(),n.Cc(42,V,2,0,"div",19),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Vb(43,"div",8),n.Vb(44,"div",10),n.Vb(45,"div",11),n.Vb(46,"div",12),n.Vb(47,"label",22),n.Dc(48,"Component "),n.Vb(49,"label",14),n.Dc(50,"*"),n.Ub(),n.Dc(51,":"),n.Ub(),n.Ub(),n.Vb(52,"div",15),n.Vb(53,"select",23),n.Vb(54,"option",17),n.Dc(55,"--Select--"),n.Ub(),n.Cc(56,v,2,2,"option",18),n.Ub(),n.Cc(57,f,2,0,"div",19),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Vb(58,"div",6),n.Vb(59,"button",24,25),n.cc("click",function(){return t.getItemDetails()}),n.Dc(61," View Item "),n.Ub(),n.Qb(62,"br"),n.Qb(63,"br"),n.Ub(),n.Cc(64,g,23,2,"div",26),n.Ub()),2&e&&(n.Db(11),n.mc("formGroup",t.ViewItemForm),n.Db(16),n.mc("ngForOf",t.AllSchemeData),n.Db(1),n.mc("ngIf",t.ViewItemFormValid.scheme.touched&&!t.ViewItemFormValid.scheme.valid),n.Db(13),n.mc("ngForOf",t.SubschemeData),n.Db(1),n.mc("ngIf",t.ViewItemFormValid.subscheme.touched&&!t.ViewItemFormValid.subscheme.valid),n.Db(14),n.mc("ngForOf",t.ComponentData),n.Db(1),n.mc("ngIf",t.ViewItemFormValid.component.touched&&!t.ViewItemFormValid.component.valid),n.Db(2),n.mc("disabled",!t.ViewItemForm.valid),n.Db(5),n.mc("ngIf",t.viewTargetTable))},directives:[b.t,b.k,b.e,b.r,b.j,b.d,b.n,b.u,o.j,o.k,l.a],styles:['.asterik[_ngcontent-%COMP%]{content:"*";color:red}td[_ngcontent-%COMP%]{white-space:pre-wrap}']}),e})()}];let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Nb({type:e}),e.\u0275inj=n.Mb({imports:[[c.d.forChild(D)],c.d]}),e})(),S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Nb({type:e}),e.\u0275inj=n.Mb({imports:[[o.b,U,b.f,b.p,l.b]]}),e})()}}]);