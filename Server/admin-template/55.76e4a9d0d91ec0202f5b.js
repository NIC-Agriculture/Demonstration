(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{m1XX:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o});var r=i("fXoL");let n=(()=>{class t{constructor(){this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(t){for(let e in t)t.hasOwnProperty(e)&&this._printStyle.push((e+JSON.stringify(t[e])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(t){let e=function(t){return`<link rel="stylesheet" type="text/css" href="${t}">`};if(-1!==t.indexOf(",")){const i=t.split(",");for(let t of i)this._styleSheetFile=this._styleSheetFile+e(t)}else this._styleSheetFile=e(t)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(t){const e=[],i=document.getElementsByTagName(t);for(let r=0;r<i.length;r++)e.push(i[r].outerHTML);return e.join("\r\n")}getFormData(t){for(var e=0;e<t.length;e++)t[e].defaultValue=t[e].value,t[e].checked&&(t[e].defaultChecked=!0)}getHtmlContents(){let t=document.getElementById(this.printSectionId),e=t.getElementsByTagName("input");this.getFormData(e);let i=t.getElementsByTagName("textarea");return this.getFormData(i),t.innerHTML}print(){let t,e,i="",r="";const n=this.getElementTag("base");this.useExistingCss&&(i=this.getElementTag("style"),r=this.getElementTag("link")),t=this.getHtmlContents(),e=window.open("","_blank","top=0,left=0,height=auto,width=auto"),e.document.open(),e.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${n}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${i}\n          ${r}\n        </head>\n        <body>\n          ${t}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),e.document.close()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["button","ngxPrint",""]],hostBindings:function(t,e){1&t&&r.cc("click",function(){return e.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),t})(),o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[]]}),t})()},pIlf:function(t,e,i){"use strict";i.r(e),i.d(e,"FarmerListModule",function(){return _});var r=i("ofXK"),n=i("3Pt+"),o=i("tyNb"),s=i("mrSG"),a=i("0IaG"),c=i("JcrP"),l=i("fXoL"),b=i("4TgG"),d=i("Ldel"),m=i("5eHb"),h=i("m1XX"),u=i("cZdB"),g=i("bTqV");function f(t,e){if(1&t&&(l.Vb(0,"option",21),l.Ec(1),l.Ub()),2&t){const t=e.$implicit;l.mc("ngValue",t),l.Db(1),l.Fc(t)}}function p(t,e){if(1&t&&(l.Vb(0,"option",21),l.Ec(1),l.Ub()),2&t){const t=e.$implicit;l.mc("ngValue",t),l.Db(1),l.Fc(t.DemostrationId)}}function y(t,e){1&t&&(l.Vb(0,"th"),l.Ec(1,"Delete"),l.Ub())}function D(t,e){if(1&t){const t=l.Wb();l.Vb(0,"td"),l.Vb(1,"button",31),l.cc("click",function(){l.wc(t);const e=l.gc().index;return l.gc(3).openDialog(e)}),l.Qb(2,"i",32),l.Ub(),l.Ub()}}function v(t,e){if(1&t&&(l.Vb(0,"tr"),l.Vb(1,"th",30),l.Ec(2),l.Ub(),l.Vb(3,"td"),l.Ec(4),l.Ub(),l.Vb(5,"td"),l.Ec(6),l.Ub(),l.Vb(7,"td"),l.Ec(8),l.Ub(),l.Vb(9,"td"),l.Ec(10),l.Ub(),l.Vb(11,"td"),l.Ec(12),l.Ub(),l.Dc(13,D,3,0,"td",28),l.Ub()),2&t){const t=e.$implicit,i=e.index,r=l.gc(3);l.Db(2),l.Fc(i+1),l.Db(2),l.Gc(" ",t.FarmerId," "),l.Db(2),l.Gc(" ",t.FarmerName," "),l.Db(2),l.Gc(" ",t.Farmer_Category," "),l.Db(2),l.Gc(" ",t.Gender," "),l.Db(2),l.Gc(" ",t.LandArea," "),l.Db(1),l.mc("ngIf",r.SubmitButton)}}function V(t,e){if(1&t&&(l.Vb(0,"div",25),l.Vb(1,"div",26),l.Vb(2,"table",27),l.Vb(3,"thead"),l.Vb(4,"tr"),l.Vb(5,"th"),l.Ec(6,"#"),l.Ub(),l.Vb(7,"th"),l.Ec(8,"Farmer Id"),l.Ub(),l.Vb(9,"th"),l.Ec(10,"Farmer Name"),l.Ub(),l.Vb(11,"th"),l.Ec(12,"Catagory"),l.Ub(),l.Vb(13,"th"),l.Ec(14,"Gender"),l.Ub(),l.Vb(15,"th"),l.Ec(16,"Land(in ha)"),l.Ub(),l.Dc(17,y,2,0,"th",28),l.Ub(),l.Ub(),l.Vb(18,"tbody"),l.Dc(19,v,14,7,"tr",29),l.hc(20,"filter"),l.Vb(21,"tr"),l.Qb(22,"th"),l.Qb(23,"th"),l.Qb(24,"th"),l.Qb(25,"th"),l.Qb(26,"th"),l.Vb(27,"th"),l.Ec(28),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Qb(29,"br"),l.Ub()),2&t){const t=l.gc(2);l.Db(17),l.mc("ngIf",t.SubmitButton),l.Db(2),l.mc("ngForOf",l.jc(20,3,t.farmer_list,t.searchText)),l.Db(9),l.Gc(" Total : ",t.totalArea," ")}}function S(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",6),l.Vb(1,"button",33),l.cc("click",function(){return l.wc(t),l.gc(2).FinalSubmitfarmerDetails()}),l.Ec(2,"Final Submit"),l.Ub(),l.Ub()}if(2&t){const t=l.gc(2);l.Db(1),l.mc("disabled",t.clicked)}}function F(t,e){if(1&t){const t=l.Wb();l.Vb(0,"div",6),l.Vb(1,"button",34),l.Qb(2,"i",35),l.Ec(3,"print"),l.Ub(),l.Vb(4,"button",36),l.cc("click",function(){return l.wc(t),l.gc(2).exportexcel()}),l.Qb(5,"i",37),l.Ec(6," Export to Excel "),l.Ub(),l.Ub()}2&t&&(l.Db(1),l.mc("useExistingCss",!0))}function U(t,e){if(1&t&&(l.Vb(0,"div",0),l.Vb(1,"div",22),l.Dc(2,V,30,6,"div",23),l.Dc(3,S,3,1,"div",24),l.Dc(4,F,7,1,"div",24),l.Qb(5,"br"),l.Qb(6,"br"),l.Ub(),l.Ub()),2&t){const t=l.gc();l.Db(2),l.mc("ngIf",t.farmerListTable),l.Db(1),l.mc("ngIf",t.SubmitButton),l.Db(1),l.mc("ngIf",!t.SubmitButton)}}function E(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"div"),l.Qb(2,"br"),l.Vb(3,"h4",38),l.Ec(4,"There is no FarmerId registered in this DemonstrationId"),l.Ub(),l.Ub(),l.Ub())}let w=(()=>{class t{constructor(t,e,i,r,o){this.layoutService=t,this.fb=e,this.vawService=i,this.toastr=r,this.dialog=o,this.demostrationArea=0,this.farmerListTable=!1,this.message1=!1,this.allFarmerData=[],this.SubmitButton=!1,this.totalArea=0,this.clicked=!1,this.totalArea1=0,this.fileName="FarmerList.xlsx",this.getFinYear=()=>Object(s.a)(this,void 0,void 0,function*(){try{const t=yield this.layoutService.getFinYear().toPromise();this.FinYears=t.Years,this.Season=t.Season}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getDemonstrationData=()=>Object(s.a)(this,void 0,void 0,function*(){try{this.farmerListTable=!1,this.demonstrationId="",this.demostrationArea=0,this.demonstrationData=yield this.vawService.getDemonstrationData(this.Finyear).toPromise()}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getAllFarmerList=()=>Object(s.a)(this,void 0,void 0,function*(){try{this.totalArea=0,this.totalArea1=0;const t=yield this.vawService.getAllFarmerList(this.demonstrationId.DemostrationId).toPromise();this.farmer_list=t.farmerList;const e=t.demoStatus[0];this.demostrationArea=this.demonstrationId.Demonstration_Area,0==this.farmer_list.length?(this.message1=!0,this.farmerListTable=!1,this.SubmitButton=!1):(this.farmer_list.forEach(t=>{this.message1=!1,this.farmerListTable=!0,this.totalArea1+=+t.LandArea,this.totalArea=JSON.parse(this.totalArea1.toFixed(1))}),null==e.ConfirmBy_vaw&&null==e.ConfirmBy_BAO?(this.message1=!1,this.SubmitButton=!0):(this.message1=!1,this.SubmitButton=!1))}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.DeleteFarmerDetails=t=>Object(s.a)(this,void 0,void 0,function*(){try{const e=this.farmer_list[t].Permit_NO,i=this.farmer_list[t].DemonstrationId,r=this.farmer_list[t].FarmerId;this.DeleteFarmerData=yield this.vawService.DeleteFarmerDetails(e,i,r).toPromise(),this.toastr.success(this.DeleteFarmerData.message),this.getAllFarmerList()}catch(e){this.toastr.error("Sorry. Server problem. Please try again."),console.error(e)}}),this.FinalSubmitfarmerDetails=()=>Object(s.a)(this,void 0,void 0,function*(){try{if(new Set(this.farmer_list.map(t=>t.FarmerId)).size<this.farmer_list.length)this.toastr.warning("Duplication of Farmer Id found in this Demonstration Patch.Please rectify the duplication.");else{this.allFarmerData.push(this.farmer_list);const t=yield this.vawService.FinalSubmitfarmerDetails(this.allFarmerData).toPromise();this.toastr.success(t.message),this.farmer_list=[],this.getDemonstrationData(),this.farmerListTable=!1,this.SubmitButton=!1}}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.pageTitle="Demonstration Patch Verification",this.pageDesc="Demonstration Patch Verification",this.breadcrumbList=["Verify Demonstration"],this.FarmerDetailsForm=e.group({permit_NO:["",[n.s.required]],demonstrationId:["",[n.s.required]],farmerId:["",[n.s.required]],farmerName:["",[n.s.required]],farmerGender:["",[n.s.required]],farmerCatagory:["",[n.s.required]],landArea:["",[n.s.required]],cropId:["",[n.s.required]],cropVariety:["",[n.s.required]]})}ngOnInit(){setTimeout(()=>{this.layoutService.setTitle(this.pageTitle),this.layoutService.setPageHeadingDesc(this.pageDesc),this.layoutService.setBreadcrumb(this.breadcrumbList)}),this.getFinYear()}openDialog(t){this.dialog.open(T,{width:"32%",data:{message:`Are you sure want to delete the details of '${this.farmer_list[t].FarmerId}' ?`,buttonText:{ok:"YES",cancel:"NO"}}}).afterClosed().subscribe(e=>{1==e&&this.DeleteFarmerDetails(t)})}exportexcel(){let t=document.getElementById("excel-table");const e=c.a.table_to_sheet(t),i=c.a.book_new();c.a.book_append_sheet(i,e,"Sheet1"),c.b(i,this.fileName)}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(b.a),l.Pb(n.c),l.Pb(d.a),l.Pb(m.b),l.Pb(a.b))},t.\u0275cmp=l.Jb({type:t,selectors:[["app-farmer-list"]],decls:41,vars:7,consts:[[1,"card"],[1,"card-header"],[1,"card-header-right"],[1,"icofont","icofont-rounded-down"],[1,"icofont","icofont-refresh"],[1,"icofont","icofont-close-circled"],[1,"card-block"],[1,"row"],[1,"col-sm-12"],[1,"col-md-12"],[1,"form-group","row"],[1,"col-sm-2","col-lg-2"],["for","farmerId",1,"block"],[1,"asterik"],[1,"col-sm-3","col-lg-3"],["id","Finyear",1,"required","form-control",3,"ngModel","ngModelChange","change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["id","demonstrationId",1,"required","form-control",3,"ngModel","ngModelChange","change"],["for","TDA",1,"block",2,"font-weight","bold"],["class","card",4,"ngIf"],[3,"ngValue"],[1,"card-block","table-border-style"],["class","table-responsive",4,"ngIf"],["class","card-block",4,"ngIf"],[1,"table-responsive"],["id","print-section",1,"card-block"],["id","excel-table",1,"table","table-hover"],[4,"ngIf"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn","btn-danger","btn-icon",3,"click"],[1,"ion-trash-a"],["type","button",1,"btn","btn-primary","mat-elevation-z8",2,"float","right",3,"disabled","click"],["type","button","styleSheetFile","assets/css/custom1.css,assets/css/custom2.css","printSectionId","print-section","ngxPrint","",1,"btn","btn-primary","mat-elevation-z8",2,"float","right",3,"useExistingCss"],[1,"ion-printer"],[1,"btn","btn-primary","mat-elevation-z8","float-right",2,"margin-right","10px",3,"click"],[1,"ion-ios-upload"],[2,"text-align","center","color","red","font-weight","bold"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"h5"),l.Ec(3,"Farmer List"),l.Ub(),l.Vb(4,"div",2),l.Qb(5,"i",3),l.Qb(6,"i",4),l.Qb(7,"i",5),l.Ub(),l.Ub(),l.Vb(8,"div",6),l.Vb(9,"div",7),l.Vb(10,"div",8),l.Vb(11,"div",7),l.Vb(12,"div",9),l.Vb(13,"div",10),l.Vb(14,"div",11),l.Vb(15,"label",12),l.Ec(16,"Financial Year"),l.Vb(17,"label",13),l.Ec(18,"*"),l.Ub(),l.Ec(19,":"),l.Ub(),l.Ub(),l.Vb(20,"div",14),l.Vb(21,"select",15),l.cc("ngModelChange",function(t){return e.Finyear=t})("change",function(){return e.getDemonstrationData()}),l.Vb(22,"option",16),l.Ec(23,"--Select--"),l.Ub(),l.Dc(24,f,2,2,"option",17),l.Ub(),l.Ub(),l.Vb(25,"div",11),l.Vb(26,"label",12),l.Ec(27,"Demonstration ID "),l.Vb(28,"label",13),l.Ec(29,"*"),l.Ub(),l.Ec(30,":"),l.Ub(),l.Ub(),l.Vb(31,"div",14),l.Vb(32,"select",18),l.cc("ngModelChange",function(t){return e.demonstrationId=t})("change",function(){return e.getAllFarmerList()}),l.Vb(33,"option",16),l.Ec(34,"--Select--"),l.Ub(),l.Dc(35,p,2,2,"option",17),l.Ub(),l.Ub(),l.Vb(36,"div",11),l.Vb(37,"label",19),l.Ec(38),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Dc(39,U,7,3,"div",20),l.Dc(40,E,5,0,"div",20)),2&t&&(l.Db(21),l.mc("ngModel",e.Finyear),l.Db(3),l.mc("ngForOf",e.FinYears),l.Db(8),l.mc("ngModel",e.demonstrationId),l.Db(3),l.mc("ngForOf",e.demonstrationData),l.Db(3),l.Gc(" Total Demonstration Area (in ha) : ",e.demostrationArea,""),l.Db(1),l.mc("ngIf",e.farmerListTable),l.Db(1),l.mc("ngIf",e.message1))},directives:[n.r,n.j,n.m,n.n,n.u,r.k,r.l,h.a],pipes:[u.a],styles:['.asterik[_ngcontent-%COMP%]{content:"*";color:red}.container[_ngcontent-%COMP%]{padding-top:50px;padding-bottom:10px;color:#405065}.search-hero[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:10px;float:right;margin:auto}.form-control[_ngcontent-%COMP%]::placeholder{font-family:FontAwesome}']}),t})(),T=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.message="Are you sure?",this.confirmButtonText="Yes",this.cancelButtonText="Cancel",e&&(this.message=e.message||this.message,e.buttonText&&(this.confirmButtonText=e.buttonText.ok||this.confirmButtonText,this.cancelButtonText=e.buttonText.cancel||this.cancelButtonText))}onConfirmClick(){this.dialogRef.close(!0)}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(a.g),l.Pb(a.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["dialog-overview-dialog"]],decls:8,vars:3,consts:[["mat-dialog-content",""],[2,"font-size","larger","color","red","font-weight","500"],["mat-dialog-actions","","align","center"],["mat-raised-button","","mat-dialog-close","","tabindex","-1"],["mat-raised-button","","color","primary","tabindex","1",3,"click"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"p",1),l.Ec(2),l.Ub(),l.Ub(),l.Vb(3,"div",2),l.Vb(4,"button",3),l.Ec(5),l.Ub(),l.Vb(6,"button",4),l.cc("click",function(){return e.onConfirmClick()}),l.Ec(7),l.Ub(),l.Ub()),2&t&&(l.Db(2),l.Fc(e.message),l.Db(3),l.Fc(e.cancelButtonText),l.Db(2),l.Fc(e.confirmButtonText))},directives:[a.e,a.c,g.a,a.d],encapsulation:2}),t})();const x=[{path:"",component:w}];let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({imports:[[o.d.forChild(x)],o.d]}),t})();var k=i("kmnG");let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({imports:[[r.c,I,n.f,n.p,a.f,g.b,k.d,u.b,h.b]]}),t})()}}]);