(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{m1XX:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});var i=n("fXoL");let o=(()=>{class t{constructor(){this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(t){for(let e in t)t.hasOwnProperty(e)&&this._printStyle.push((e+JSON.stringify(t[e])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(t){let e=function(t){return`<link rel="stylesheet" type="text/css" href="${t}">`};if(-1!==t.indexOf(",")){const n=t.split(",");for(let t of n)this._styleSheetFile=this._styleSheetFile+e(t)}else this._styleSheetFile=e(t)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(t){const e=[],n=document.getElementsByTagName(t);for(let i=0;i<n.length;i++)e.push(n[i].outerHTML);return e.join("\r\n")}getFormData(t){for(var e=0;e<t.length;e++)t[e].defaultValue=t[e].value,t[e].checked&&(t[e].defaultChecked=!0)}getHtmlContents(){let t=document.getElementById(this.printSectionId),e=t.getElementsByTagName("input");this.getFormData(e);let n=t.getElementsByTagName("textarea");return this.getFormData(n),t.innerHTML}print(){let t,e,n="",i="";const o=this.getElementTag("base");this.useExistingCss&&(n=this.getElementTag("style"),i=this.getElementTag("link")),t=this.getHtmlContents(),e=window.open("","_blank","top=0,left=0,height=auto,width=auto"),e.document.open(),e.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${o}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${n}\n          ${i}\n        </head>\n        <body>\n          ${t}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),e.document.close()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Kb({type:t,selectors:[["button","ngxPrint",""]],hostBindings:function(t,e){1&t&&i.cc("click",function(){return e.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),t})(),r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({imports:[[]]}),t})()},mTfI:function(t,e,n){"use strict";n.r(e),n.d(e,"DemonstrationPatchListModule",function(){return D});var i=n("ofXK"),o=n("tyNb"),r=n("mrSG"),s=n("JcrP"),a=n("fXoL"),c=n("Ldel"),b=n("5eHb"),l=n("4TgG"),d=n("3Pt+"),h=n("m1XX");function m(t,e){if(1&t&&(a.Vb(0,"option",16),a.Ec(1),a.Ub()),2&t){const t=e.$implicit;a.mc("ngValue",t),a.Db(1),a.Fc(t)}}function g(t,e){if(1&t&&(a.Vb(0,"option",16),a.Ec(1),a.Ub()),2&t){const t=e.$implicit;a.mc("ngValue",t),a.Db(1),a.Fc(t.DemostrationId)}}function u(t,e){if(1&t&&(a.Vb(0,"tr"),a.Vb(1,"th",35),a.Ec(2),a.Ub(),a.Vb(3,"td"),a.Ec(4),a.Ub(),a.Vb(5,"td"),a.Ec(6),a.Ub(),a.Vb(7,"td"),a.Ec(8),a.Ub(),a.Vb(9,"td"),a.Ec(10),a.Ub(),a.Vb(11,"td"),a.Ec(12),a.Ub(),a.Ub()),2&t){const t=e.$implicit,n=e.index;a.Db(2),a.Gc(" ",n+1," "),a.Db(2),a.Gc(" ",t.FarmerId," "),a.Db(2),a.Gc(" ",t.FarmerName," "),a.Db(2),a.Gc(" ",t.LandArea," "),a.Db(2),a.Gc(" ",t.seedrequired," Kg"),a.Db(2),a.Gc(" ",t.bpseedrequired||0," Kg")}}function p(t,e){1&t&&(a.Vb(0,"div"),a.Vb(1,"h4",36),a.Ec(2,"There is no data in this DemonstrationId"),a.Ub(),a.Ub())}function f(t,e){if(1&t){const t=a.Wb();a.Vb(0,"div",17),a.Vb(1,"div",1),a.Vb(2,"div",18),a.Vb(3,"div",2),a.Vb(4,"div",19),a.Vb(5,"div",20),a.Vb(6,"div",2),a.Vb(7,"div",21),a.Vb(8,"table",22),a.Vb(9,"tbody"),a.Vb(10,"tr"),a.Vb(11,"th",23),a.cc("ngModelChange",function(e){return a.wc(t),a.gc().DemonstrationId=e}),a.Ec(12,"DemonstrationId"),a.Ub(),a.Vb(13,"td"),a.Ec(14),a.Ub(),a.Ub(),a.Vb(15,"tr"),a.Vb(16,"th",23),a.cc("ngModelChange",function(e){return a.wc(t),a.gc().subscheme=e}),a.Ec(17,"Subscheme"),a.Ub(),a.Vb(18,"td"),a.Ec(19),a.Ub(),a.Ub(),a.Vb(20,"tr"),a.Vb(21,"th",23),a.cc("ngModelChange",function(e){return a.wc(t),a.gc().cropCatagory=e}),a.Ec(22,"Crop Catagory"),a.Ub(),a.Vb(23,"td"),a.Ec(24),a.Ub(),a.Ub(),a.Vb(25,"tr"),a.Vb(26,"th",23),a.cc("ngModelChange",function(e){return a.wc(t),a.gc().totalLand=e}),a.Ec(27,"Total Land (in ha)"),a.Ub(),a.Vb(28,"td"),a.Ec(29),a.Ub(),a.Ub(),a.Vb(30,"tr"),a.Vb(31,"th",23),a.cc("ngModelChange",function(e){return a.wc(t),a.gc().bpCrop=e}),a.Ec(32," Crop(Bund Plant.) "),a.Ub(),a.Vb(33,"td"),a.Ec(34),a.Ub(),a.Ub(),a.Vb(35,"tr"),a.Vb(36,"th",23),a.cc("ngModelChange",function(e){return a.wc(t),a.gc().totalBPSeed=e}),a.Ec(37,"Total Required Seed (in Quintal) for Bund Plant."),a.Ub(),a.Vb(38,"td"),a.Ec(39),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(40,"div",21),a.Vb(41,"table",24),a.Vb(42,"tbody"),a.Vb(43,"tr"),a.Vb(44,"th",23),a.cc("ngModelChange",function(e){return a.wc(t),a.gc().scheme=e}),a.Ec(45,"Scheme"),a.Ub(),a.Vb(46,"td"),a.Ec(47),a.Ub(),a.Ub(),a.Vb(48,"tr"),a.Vb(49,"th",23),a.cc("ngModelChange",function(e){return a.wc(t),a.gc().compName=e}),a.Ec(50,"Component Name"),a.Ub(),a.Vb(51,"td"),a.Ec(52),a.Ub(),a.Ub(),a.Vb(53,"tr"),a.Vb(54,"th",23),a.cc("ngModelChange",function(e){return a.wc(t),a.gc().cropVariety=e}),a.Ec(55,"Crop Variety"),a.Ub(),a.Vb(56,"td"),a.Ec(57),a.Ub(),a.Ub(),a.Vb(58,"tr"),a.Vb(59,"th",23),a.cc("ngModelChange",function(e){return a.wc(t),a.gc().totalSeed=e}),a.Ec(60,"Total Required Seed (in Quintal) for Component"),a.Ub(),a.Vb(61,"td"),a.Ec(62),a.Ub(),a.Ub(),a.Vb(63,"tr"),a.Vb(64,"th",23),a.cc("ngModelChange",function(e){return a.wc(t),a.gc().bpCropVariety=e}),a.Ec(65,"Crop Variety(Bund Plant.)"),a.Ub(),a.Vb(66,"td"),a.Ec(67),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Qb(68,"br"),a.Vb(69,"div",25),a.Vb(70,"div",26),a.Vb(71,"table",27),a.Vb(72,"thead"),a.Vb(73,"tr",28),a.Vb(74,"th"),a.Ec(75,"#"),a.Ub(),a.Vb(76,"th"),a.Ec(77,"Farmer Id"),a.Ub(),a.Vb(78,"th"),a.Ec(79,"Farmer Name"),a.Ub(),a.Vb(80,"th"),a.Ec(81,"Land(in ha)"),a.Ub(),a.Vb(82,"th"),a.Ec(83,"Seed"),a.Ub(),a.Vb(84,"th"),a.Ec(85,"Seed (Bund Plant.)"),a.Ub(),a.Ub(),a.Ub(),a.Vb(86,"tbody"),a.Dc(87,u,13,6,"tr",29),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Qb(88,"br"),a.Dc(89,p,3,0,"div",30),a.Vb(90,"div",1),a.Vb(91,"button",31),a.Qb(92,"i",32),a.Ec(93,"print"),a.Ub(),a.Vb(94,"button",33),a.cc("click",function(){return a.wc(t),a.gc().exportexcel()}),a.Qb(95,"i",34),a.Ec(96," Export to Excel "),a.Ub(),a.Ub(),a.Ub()}if(2&t){const t=a.gc();a.Db(11),a.mc("ngModel",t.DemonstrationId),a.Db(3),a.Gc(" ",t.DemonstrationId," "),a.Db(2),a.mc("ngModel",t.subscheme),a.Db(3),a.Gc(" ",t.subscheme," "),a.Db(2),a.mc("ngModel",t.cropCatagory),a.Db(3),a.Gc(" ",t.cropCatagory," "),a.Db(2),a.mc("ngModel",t.totalLand),a.Db(3),a.Gc(" ",t.totalLand," "),a.Db(2),a.mc("ngModel",t.bpCrop),a.Db(3),a.Gc(" ",t.bpCrop||"---"," "),a.Db(2),a.mc("ngModel",t.totalBPSeed),a.Db(3),a.Gc(" ",t.totalBpSeedInQuintal||0," "),a.Db(5),a.mc("ngModel",t.scheme),a.Db(3),a.Gc(" ",t.scheme," "),a.Db(2),a.mc("ngModel",t.compName),a.Db(3),a.Gc(" ",t.compName," "),a.Db(2),a.mc("ngModel",t.cropVariety),a.Db(3),a.Gc(" ",t.cropVariety," "),a.Db(2),a.mc("ngModel",t.totalSeed),a.Db(3),a.Gc(" ",t.totalSeedInQuintal," "),a.Db(2),a.mc("ngModel",t.bpCropVariety),a.Db(3),a.Gc(" ",t.bpCropVariety||"---"," "),a.Db(20),a.mc("ngForOf",t.farmer_list),a.Db(2),a.mc("ngIf",t.message),a.Db(2),a.mc("useExistingCss",!0)}}function V(t,e){1&t&&(a.Vb(0,"div",0),a.Vb(1,"div"),a.Qb(2,"br"),a.Vb(3,"h4",37),a.Ec(4,"Please final submit the registered farmers against this Demonstration Id."),a.Ub(),a.Ub(),a.Ub())}const y=[{path:"",component:(()=>{class t{constructor(t,e,n){this.vawService=t,this.toastr=e,this.layoutService=n,this.farmerListTable=!1,this.message=!1,this.totalBPSeed=0,this.totalBpSeedInQuintal=0,this.message1=!1,this.fileName="FarmerList.xlsx",this.getFinYear=()=>Object(r.a)(this,void 0,void 0,function*(){try{const t=yield this.layoutService.getFinYear().toPromise();this.FinYears=t.Years,this.Season=t.Season}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getDemonstrationData=()=>Object(r.a)(this,void 0,void 0,function*(){try{this.farmerListTable=!1,this.message1=!1,this.demonstrationData=yield this.vawService.getDemonstrationData(this.Finyear).toPromise()}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getDemonstrationStatus=()=>{try{1==this.demonstrationId.ConfirmBy_vaw&&1==this.demonstrationId.ConfirmBy_BAO?(this.getAllApprovedFarmerList(this.demonstrationId.DemostrationId),this.scheme=this.demonstrationId.schemeName,this.subscheme=this.demonstrationId.SubschemeName,this.DemonstrationId=this.demonstrationId.DemostrationId,this.cropCatagory=this.demonstrationId.CropName,this.cropVariety=this.demonstrationId.Variety_Name,this.bpCrop=this.demonstrationId.bpsubcropname,this.compName=this.demonstrationId.CompName,this.bpCropVariety=this.demonstrationId.bpcropvarietyname):1==this.demonstrationId.ConfirmBy_vaw&&null==this.demonstrationId.ConfirmBy_BAO?(this.toastr.warning("This Demonstration Patch is not confirmed By BAO."),this.farmerListTable=!1,this.message1=!0):(this.farmerListTable=!1,this.message1=!0,this.toastr.warning("Please final submit the registered farmers against this Demonstration Id."))}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}},this.getAllApprovedFarmerList=t=>Object(r.a)(this,void 0,void 0,function*(){try{this.farmerListTable=!0,this.message1=!1,this.getTotalLandCount(),this.farmer_list=yield this.vawService.getAllApprovedFarmerList(t).toPromise(),this.farmer_list.forEach(t=>{this.totalBPSeed+=+t.bpseedrequired}),this.totalBpSeedInQuintal=.01*this.totalBPSeed}catch(e){this.toastr.error("Sorry. Server problem. Please try again."),console.error(e)}}),this.getTotalLandCount=()=>Object(r.a)(this,void 0,void 0,function*(){this.totalLandCount=yield this.vawService.getTotalLandCount(this.demonstrationId.DemostrationId).toPromise(),this.totalLand=this.totalLandCount[0].totalland,this.getTotalSeedCount()}),this.getTotalSeedCount=()=>Object(r.a)(this,void 0,void 0,function*(){this.totalSeedCount=yield this.vawService.getTotalSeedCount(this.demonstrationId.CompId).toPromise(),this.totalSeed=+this.totalLand*+this.totalSeedCount[0].Seed_Per_ha,this.totalSeedInQuintal=.01*+this.totalSeed}),this.pageTitle="Report/Seed Details",this.pageDesc="Seed Details",this.breadcrumbList=["Report/Seed Details"]}ngOnInit(){setTimeout(()=>{this.layoutService.setTitle(this.pageTitle),this.layoutService.setPageHeadingDesc(this.pageDesc),this.layoutService.setBreadcrumb(this.breadcrumbList)}),this.getFinYear()}exportexcel(){let t=document.getElementById("excel-table");const e=s.a.table_to_sheet(t),n=s.a.book_new();s.a.book_append_sheet(n,e,"Sheet1"),s.b(n,this.fileName)}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(c.a),a.Pb(b.b),a.Pb(l.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-demonstration-patch-list"]],decls:31,vars:6,consts:[[1,"card"],[1,"card-block"],[1,"row"],[1,"col-sm-12"],[1,"col-md-12"],[1,"form-group","row"],[1,"col-sm-2","col-lg-2"],["for","farmerId",1,"block"],[1,"asterik"],[1,"col-sm-4","col-lg-4"],["id","Finyear",1,"required","form-control",3,"ngModel","ngModelChange","change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["id","demonstrationId",1,"required","form-control",3,"ngModel","ngModelChange","change"],["class","card","id","print-section",4,"ngIf"],["class","card",4,"ngIf"],[3,"ngValue"],["id","print-section",1,"card"],[1,"view-info"],[1,"col-lg-12"],[1,"general-info"],[1,"col-lg-12","col-xl-6"],[1,"table","m-0"],["scope","row","ngDefaultControl","",3,"ngModel","ngModelChange"],[1,"table"],[1,"card-block","table-border-style"],[1,"table-responsive"],["id","excel-table",1,"table","table-styling"],[1,"table-primary"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button","styleSheetFile","assets/css/custom1.css,assets/css/custom2.css","printSectionId","print-section","ngxPrint","",1,"btn","btn-primary","mat-elevation-z8",2,"float","right",3,"useExistingCss"],[1,"ion-printer"],[1,"btn","btn-primary","mat-elevation-z8","float-right",2,"margin-right","10px",3,"click"],[1,"ion-ios-upload"],["scope","row"],[2,"text-align","center","color","red"],[2,"text-align","center","color","red","font-weight","bold"]],template:function(t,e){1&t&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"div",3),a.Vb(4,"div",2),a.Vb(5,"div",4),a.Vb(6,"div",5),a.Vb(7,"div",6),a.Vb(8,"label",7),a.Ec(9,"Financial Year"),a.Vb(10,"label",8),a.Ec(11,"*"),a.Ub(),a.Ec(12,":"),a.Ub(),a.Ub(),a.Vb(13,"div",9),a.Vb(14,"select",10),a.cc("ngModelChange",function(t){return e.Finyear=t})("change",function(){return e.getDemonstrationData()}),a.Vb(15,"option",11),a.Ec(16,"--Select--"),a.Ub(),a.Dc(17,m,2,2,"option",12),a.Ub(),a.Ub(),a.Vb(18,"div",6),a.Vb(19,"label",7),a.Ec(20,"Demonstration ID "),a.Vb(21,"label",8),a.Ec(22,"*"),a.Ub(),a.Ec(23,":"),a.Ub(),a.Ub(),a.Vb(24,"div",9),a.Vb(25,"select",13),a.cc("ngModelChange",function(t){return e.demonstrationId=t})("change",function(){return e.getDemonstrationStatus()}),a.Vb(26,"option",11),a.Ec(27,"--Select--"),a.Ub(),a.Dc(28,g,2,2,"option",12),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Dc(29,f,97,25,"div",14),a.Dc(30,V,5,0,"div",15)),2&t&&(a.Db(14),a.mc("ngModel",e.Finyear),a.Db(3),a.mc("ngForOf",e.FinYears),a.Db(8),a.mc("ngModel",e.demonstrationId),a.Db(3),a.mc("ngForOf",e.demonstrationData),a.Db(1),a.mc("ngIf",e.farmerListTable),a.Db(1),a.mc("ngIf",e.message1))},directives:[d.r,d.j,d.m,d.n,d.u,i.k,i.l,d.b,h.a],styles:['td[_ngcontent-%COMP%]{white-space:pre-wrap}@media print{#print-section[_ngcontent-%COMP%]{overflow-y:visible!important;position:relative}}.asterik[_ngcontent-%COMP%]{content:"*";color:red}']}),t})()}];let U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({imports:[[o.d.forChild(y)],o.d]}),t})(),D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({imports:[[i.c,U,d.f,d.p,h.b]]}),t})()}}]);