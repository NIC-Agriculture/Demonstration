(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"0EQZ":function(t,e,i){"use strict";i.d(e,"a",function(){return l}),i.d(e,"b",function(){return a}),i.d(e,"c",function(){return b}),i.d(e,"d",function(){return u}),i.d(e,"e",function(){return d}),i.d(e,"f",function(){return h}),i.d(e,"g",function(){return m}),i.d(e,"h",function(){return c});var n=i("7+OI"),s=i("LRne"),r=i("XNiG"),o=i("fXoL");class a{}function c(t){return t&&"function"==typeof t.connect}class l extends a{constructor(t){super(),this._data=t}connect(){return Object(n.a)(this._data)?this._data:Object(s.a)(this._data)}disconnect(){}}class d{applyChanges(t,e,i,n,s){t.forEachOperation((t,n,r)=>{let o,a;if(null==t.previousIndex){const s=i(t,n,r);o=e.createEmbeddedView(s.templateRef,s.context,s.index),a=1}else null==r?(e.remove(n),a=3):(o=e.get(n),e.move(o,r),a=2);s&&s({context:null==o?void 0:o.context,operation:a,record:t})})}detach(){}}class h{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,n,s){t.forEachOperation((t,r,o)=>{let a,c;null==t.previousIndex?(a=this._insertView(()=>i(t,r,o),o,e,n(t)),c=a?1:0):null==o?(this._detachAndCacheView(r,e),c=3):(a=this._moveView(r,o,e,n(t)),c=2),s&&s({context:null==a?void 0:a.context,operation:c,record:t})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,n){const s=this._insertViewFromCache(e,i);if(s)return void(s.context.$implicit=n);const r=t();return i.createEmbeddedView(r.templateRef,r.context,r.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,n){const s=i.get(t);return i.move(s,e),s.context.$implicit=n,s}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}class b{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new r.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let u=(()=>{class t{constructor(){this._listeners=[]}notify(t,e){for(let i of this._listeners)i(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(o.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const m=new o.s("_ViewRepeater")},"7+OI":function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("HDdC");function s(t){return!!t&&(t instanceof n.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}},m1XX:function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"b",function(){return r});var n=i("fXoL");let s=(()=>{class t{constructor(){this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(t){for(let e in t)t.hasOwnProperty(e)&&this._printStyle.push((e+JSON.stringify(t[e])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(t){let e=function(t){return`<link rel="stylesheet" type="text/css" href="${t}">`};if(-1!==t.indexOf(",")){const i=t.split(",");for(let t of i)this._styleSheetFile=this._styleSheetFile+e(t)}else this._styleSheetFile=e(t)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(t){const e=[],i=document.getElementsByTagName(t);for(let n=0;n<i.length;n++)e.push(i[n].outerHTML);return e.join("\r\n")}getFormData(t){for(var e=0;e<t.length;e++)t[e].defaultValue=t[e].value,t[e].checked&&(t[e].defaultChecked=!0)}getHtmlContents(){let t=document.getElementById(this.printSectionId),e=t.getElementsByTagName("input");this.getFormData(e);let i=t.getElementsByTagName("textarea");return this.getFormData(i),t.innerHTML}print(){let t,e,i="",n="";const s=this.getElementTag("base");this.useExistingCss&&(i=this.getElementTag("style"),n=this.getElementTag("link")),t=this.getHtmlContents(),e=window.open("","_blank","top=0,left=0,height=auto,width=auto"),e.document.open(),e.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${s}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${i}\n          ${n}\n        </head>\n        <body>\n          ${t}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),e.document.close()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.Kb({type:t,selectors:[["button","ngxPrint",""]],hostBindings:function(t,e){1&t&&n.cc("click",function(){return e.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),t})(),r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.Nb({type:t}),t.\u0275inj=n.Mb({imports:[[]]}),t})()},xsuk:function(t,e,i){"use strict";i.r(e),i.d(e,"SeedDistributionModule",function(){return I});var n=i("ofXK"),s=i("tyNb"),r=i("mrSG"),o=i("JcrP"),a=i("fXoL"),c=i("4TgG"),l=i("Ldel"),d=i("5eHb"),h=i("3Pt+"),b=i("QibW"),u=i("m1XX");function m(t,e){if(1&t&&(a.Vb(0,"option",16),a.Ec(1),a.Ub()),2&t){const t=e.$implicit;a.mc("ngValue",t),a.Db(1),a.Fc(t)}}function g(t,e){if(1&t&&(a.Vb(0,"option",16),a.Ec(1),a.Ub()),2&t){const t=e.$implicit;a.mc("ngValue",t),a.Db(1),a.Gc(" ",t.DemostrationId," ")}}function f(t,e){if(1&t&&(a.Vb(0,"mat-radio-button",22),a.Ec(1),a.Ub()),2&t){const t=e.$implicit;a.mc("value",t),a.Db(1),a.Gc(" ",t," ")}}function p(t,e){if(1&t){const t=a.Wb();a.Vb(0,"div",5),a.Vb(1,"div",17),a.Vb(2,"label",7),a.Ec(3,"Seed Distributed Successfully "),a.Vb(4,"label",8),a.Ec(5,"*"),a.Ub(),a.Ec(6,":"),a.Ub(),a.Ub(),a.Vb(7,"div",6),a.Vb(8,"mat-radio-group",20),a.cc("ngModelChange",function(e){return a.wc(t),a.gc(2).ConfirmOption=e}),a.Dc(9,f,2,2,"mat-radio-button",21),a.Ub(),a.Ub(),a.Qb(10,"div",18),a.Ub()}if(2&t){const t=a.gc(2);a.Db(8),a.mc("ngModel",t.ConfirmOption),a.Db(1),a.mc("ngForOf",t.options)}}function v(t,e){if(1&t&&(a.Vb(0,"div",2),a.Vb(1,"div",3),a.Vb(2,"div",2),a.Vb(3,"div",4),a.Vb(4,"div",5),a.Vb(5,"div",17),a.Vb(6,"label",7),a.Ec(7),a.Ub(),a.Ub(),a.Qb(8,"div",6),a.Qb(9,"div",18),a.Ub(),a.Dc(10,p,11,2,"div",19),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&t){const t=a.gc();a.Db(7),a.Gc("Seed Distribution Status : \xa0 \xa0 \xa0 \xa0 \xa0 \xa0",t.demonstrationId.SeedDistributionStatus," "),a.Db(3),a.mc("ngIf",t.confirmed&&"Pending"==t.demonstrationId.SeedDistributionStatus)}}function y(t,e){if(1&t&&(a.Vb(0,"tr"),a.Vb(1,"th",29),a.Ec(2),a.Ub(),a.Vb(3,"td"),a.Ec(4),a.Ub(),a.Vb(5,"td"),a.Ec(6),a.Ub(),a.Vb(7,"td"),a.Ec(8),a.Ub(),a.Vb(9,"td"),a.Ec(10),a.Ub(),a.Vb(11,"td"),a.Ec(12),a.Ub(),a.Vb(13,"td"),a.Ec(14),a.Ub(),a.Vb(15,"td"),a.Ec(16),a.Ub(),a.Ub()),2&t){const t=e.$implicit,i=e.index;a.Db(2),a.Fc(i+1),a.Db(2),a.Fc(t.FarmerId),a.Db(2),a.Fc(t.FarmerName),a.Db(2),a.Fc(t.Farmer_Category),a.Db(2),a.Fc(t.Gender),a.Db(2),a.Fc(t.LandArea),a.Db(2),a.Gc("",t.seedrequired," Kg"),a.Db(2),a.Gc(" ",t.bpseedrequired||0," Kg ")}}function S(t,e){1&t&&(a.Vb(0,"div"),a.Vb(1,"h4",30),a.Ec(2," There is no data in this DemonstrationId "),a.Ub(),a.Ub())}function _(t,e){if(1&t){const t=a.Wb();a.Vb(0,"button",31),a.cc("click",function(){return a.wc(t),a.gc(2).ConfirmSeedDistributionStatus()}),a.Ec(1,"Confirm "),a.Ub()}}function V(t,e){if(1&t){const t=a.Wb();a.Vb(0,"div",1),a.Vb(1,"button",32),a.Qb(2,"i",33),a.Ec(3,"print"),a.Ub(),a.Vb(4,"button",34),a.cc("click",function(){return a.wc(t),a.gc(2).exportexcel()}),a.Qb(5,"i",35),a.Ec(6," Export to Excel "),a.Ub(),a.Ub()}2&t&&(a.Db(1),a.mc("useExistingCss",!0))}function D(t,e){if(1&t&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"div",23),a.Vb(3,"table",24),a.Vb(4,"thead"),a.Vb(5,"tr"),a.Vb(6,"th"),a.Ec(7,"#"),a.Ub(),a.Vb(8,"th"),a.Ec(9,"Farmer Id"),a.Ub(),a.Vb(10,"th"),a.Ec(11,"Farmer Name"),a.Ub(),a.Vb(12,"th"),a.Ec(13,"Catagory"),a.Ub(),a.Vb(14,"th"),a.Ec(15,"Gender"),a.Ub(),a.Vb(16,"th"),a.Ec(17,"Land (in ha)"),a.Ub(),a.Vb(18,"th"),a.Ec(19,"Seed"),a.Ub(),a.Vb(20,"th"),a.Ec(21,"Seed (Bund Plant.)"),a.Ub(),a.Ub(),a.Ub(),a.Vb(22,"tbody"),a.Dc(23,y,17,8,"tr",25),a.Ub(),a.Ub(),a.Ub(),a.Qb(24,"br"),a.Dc(25,S,3,0,"div",26),a.Qb(26,"br"),a.Dc(27,_,2,0,"button",27),a.Dc(28,V,7,1,"div",28),a.Ub(),a.Ub()),2&t){const t=a.gc();a.Db(23),a.mc("ngForOf",t.farmer_list),a.Db(2),a.mc("ngIf",t.message),a.Db(2),a.mc("ngIf","Yes"==t.ConfirmOption),a.Db(1),a.mc("ngIf","Over"==t.demonstrationId.SeedDistributionStatus)}}function E(t,e){1&t&&(a.Vb(0,"div",0),a.Vb(1,"div"),a.Qb(2,"br"),a.Vb(3,"h4",36),a.Ec(4,"Please final submit the registered farmers against this Demonstration Id.."),a.Ub(),a.Ub(),a.Ub())}const w=[{path:"",component:(()=>{class t{constructor(t,e,i){this.layoutService=t,this.vawService=e,this.toastr=i,this.confirmed=!1,this.farmerListTable=!1,this.message=!1,this.options=["Yes","No"],this.message1=!1,this.fileName="SeedDistributionDetails.xlsx",this.getFinYear=()=>Object(r.a)(this,void 0,void 0,function*(){try{const t=yield this.layoutService.getFinYear().toPromise();this.FinYears=t.Years,this.Season=t.Season}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getDemonstrationData=()=>Object(r.a)(this,void 0,void 0,function*(){try{this.demonstrationId="",this.farmerListTable=!1,this.demonstrationData=yield this.vawService.getDemonstrationData(this.Finyear).toPromise()}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getDemonstrationStatus=()=>{try{1==this.demonstrationId.ConfirmBy_vaw&&1==this.demonstrationId.ConfirmBy_BAO?(this.confirmed=!0,this.getAllApprovedFarmerList(this.demonstrationId.DemostrationId)):1==this.demonstrationId.ConfirmBy_vaw&&null==this.demonstrationId.ConfirmBy_BAO?(this.confirmed=!1,this.toastr.warning("This Demonstration Patch is not confirmed By BAO."),this.farmerListTable=!1):(this.confirmed=!1,this.farmerListTable=!1,this.toastr.warning("Please final submit the registered farmers against this Demonstration Id."))}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}},this.getAllApprovedFarmerList=t=>Object(r.a)(this,void 0,void 0,function*(){try{this.farmerListTable=!0,this.farmer_list=yield this.vawService.getAllApprovedFarmerList(t).toPromise()}catch(e){this.toastr.error("Sorry. Server problem. Please try again."),console.error(e)}}),this.getTotalLandCount=()=>Object(r.a)(this,void 0,void 0,function*(){this.totalLandCount=yield this.vawService.getTotalLandCount(this.demonstrationId.DemostrationId).toPromise(),this.totalLand=this.totalLandCount[0].totalland,this.getTotalSeedCount()}),this.getTotalSeedCount=()=>Object(r.a)(this,void 0,void 0,function*(){this.totalSeedCount=yield this.vawService.getTotalSeedCount(this.demonstrationId.CompId).toPromise(),this.totalSeed=+this.totalLand*+this.totalSeedCount[0].Seed_Per_ha,this.totalSeedInQuintal=.01*+this.totalSeed}),this.ConfirmSeedDistributionStatus=()=>Object(r.a)(this,void 0,void 0,function*(){try{if("Yes"==this.ConfirmOption){const t=this.demonstrationId.DemostrationId,e=yield this.vawService.ConfirmSeedDistributionStatus(t).toPromise();this.confirmStatus=e,this.toastr.success(e.message),this.farmer_list=[],this.demonstrationId="",this.ConfirmOption="",this.getDemonstrationData(),this.farmerListTable=!1}}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.pageTitle="Seed Distribution Status",this.pageDesc="Seed Distribution Status Verification",this.breadcrumbList=["Seed Distribution"]}ngOnInit(){this.getDemonstrationData(),setTimeout(()=>{this.layoutService.setTitle(this.pageTitle),this.layoutService.setPageHeadingDesc(this.pageDesc),this.layoutService.setBreadcrumb(this.breadcrumbList)}),this.getFinYear()}exportexcel(){let t=document.getElementById("excel-table");const e=o.a.table_to_sheet(t),i=o.a.book_new();o.a.book_append_sheet(i,e,"Sheet1"),o.b(i,this.fileName)}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(c.a),a.Pb(l.a),a.Pb(d.b))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-seed-distribution"]],decls:32,vars:7,consts:[[1,"card"],[1,"card-block"],[1,"row"],[1,"col-sm-12"],[1,"col-md-12"],[1,"form-group","row"],[1,"col-sm-2","col-lg-2"],["for","farmerId",1,"block"],[1,"asterik"],[1,"col-sm-4","col-lg-4"],["id","Finyear",1,"required","form-control",3,"ngModel","ngModelChange","change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["id","demonstrationId",1,"required","form-control",3,"ngModel","ngModelChange","change"],["class","row",4,"ngIf"],["class","card",4,"ngIf"],[3,"ngValue"],[1,"col-sm-3","col-lg-3"],[1,"col-sm-7","col-lg-7"],["class","form-group row",4,"ngIf"],["aria-labelledby","example-radio-group-label",1,"example-radio-group",3,"ngModel","ngModelChange"],["class","example-radio-button",3,"value",4,"ngFor","ngForOf"],[1,"example-radio-button",3,"value"],["id","print-section",1,"table-responsive"],["id","excel-table",1,"table","table-hover"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button","class","btn btn-primary mat-elevation-z8","style","float: right",3,"click",4,"ngIf"],["class","card-block",4,"ngIf"],["scope","row"],[2,"text-align","center","color","red"],["type","button",1,"btn","btn-primary","mat-elevation-z8",2,"float","right",3,"click"],["type","button","styleSheetFile","assets/css/custom1.css,assets/css/custom2.css","printSectionId","print-section","ngxPrint","",1,"btn","btn-primary","mat-elevation-z8",2,"float","right",3,"useExistingCss"],[1,"ion-printer"],[1,"btn","btn-primary","mat-elevation-z8","float-right",2,"margin-right","10px",3,"click"],[1,"ion-ios-upload"],[2,"text-align","center","color","red","font-weight","bold"]],template:function(t,e){1&t&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"div",3),a.Vb(4,"div",2),a.Vb(5,"div",4),a.Vb(6,"div",5),a.Vb(7,"div",6),a.Vb(8,"label",7),a.Ec(9,"Financial Year "),a.Vb(10,"label",8),a.Ec(11,"*"),a.Ub(),a.Ec(12,":"),a.Ub(),a.Ub(),a.Vb(13,"div",9),a.Vb(14,"select",10),a.cc("ngModelChange",function(t){return e.Finyear=t})("change",function(){return e.getDemonstrationData()}),a.Vb(15,"option",11),a.Ec(16,"--Select--"),a.Ub(),a.Dc(17,m,2,2,"option",12),a.Ub(),a.Ub(),a.Vb(18,"div",6),a.Vb(19,"label",7),a.Ec(20,"Demonstration ID "),a.Vb(21,"label",8),a.Ec(22,"*"),a.Ub(),a.Ec(23,":"),a.Ub(),a.Ub(),a.Vb(24,"div",9),a.Vb(25,"select",13),a.cc("ngModelChange",function(t){return e.demonstrationId=t})("change",function(){return e.getDemonstrationStatus()}),a.Vb(26,"option",11),a.Ec(27,"--Select--"),a.Ub(),a.Dc(28,g,2,2,"option",12),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Dc(29,v,11,2,"div",14),a.Ub(),a.Ub(),a.Dc(30,D,29,4,"div",15),a.Dc(31,E,5,0,"div",15)),2&t&&(a.Db(14),a.mc("ngModel",e.Finyear),a.Db(3),a.mc("ngForOf",e.FinYears),a.Db(8),a.mc("ngModel",e.demonstrationId),a.Db(3),a.mc("ngForOf",e.demonstrationData),a.Db(1),a.mc("ngIf",e.demonstrationId),a.Db(1),a.mc("ngIf",e.farmerListTable),a.Db(1),a.mc("ngIf",e.message1))},directives:[h.r,h.j,h.m,h.n,h.u,n.k,n.l,b.b,b.a,u.a],styles:['.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}.example-margin[_ngcontent-%COMP%]{margin:0 10px}.asterik[_ngcontent-%COMP%]{content:"*";color:red}']}),t})()}];let C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({imports:[[s.d.forChild(w)],s.d]}),t})();var U=i("bSwM");let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({imports:[[n.c,h.f,h.p,C,b.c,U.b,u.b]]}),t})()}}]);