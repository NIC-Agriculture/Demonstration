(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{ulIx:function(t,e,i){"use strict";i.r(e),i.d(e,"BlockTargetModule",function(){return H});var o=i("ofXK"),a=i("tyNb"),c=i("mrSG"),r=i("3Pt+"),s=i("fXoL"),n=i("dLb8"),l=i("4TgG"),h=i("5eHb"),b=i("QibW"),d=i("Egam");function g(t,e){if(1&t&&(s.Vb(0,"option",33),s.Ec(1),s.Ub()),2&t){const t=e.$implicit;s.mc("ngValue",t),s.Db(1),s.Gc(" ",t," ")}}function P(t,e){1&t&&(s.Vb(0,"div",34),s.Ec(1," Financial Year is required. "),s.Ub())}function y(t,e){if(1&t&&(s.Vb(0,"option",33),s.Ec(1),s.Ub()),2&t){const t=e.$implicit;s.mc("ngValue",t),s.Db(1),s.Fc(t.SubschemeName)}}function m(t,e){1&t&&(s.Vb(0,"div",34),s.Ec(1," Subscheme is required. "),s.Ub())}function u(t,e){if(1&t&&(s.Vb(0,"div"),s.Vb(1,"b"),s.Ec(2),s.Ub(),s.Ec(3),s.Ub()),2&t){const t=e.$implicit;s.Db(2),s.Gc(" ",t.SubCropName,"*, "),s.Db(1),s.Gc(" ",t.additionalcrop||" "," ")}}function T(t,e){if(1&t&&(s.Vb(0,"div",13),s.Vb(1,"div",14),s.Vb(2,"label",35),s.Ec(3," Crop "),s.Vb(4,"label",16),s.Ec(5,"*"),s.Ub(),s.Ec(6,":"),s.Ub(),s.Ub(),s.Vb(7,"div",17),s.Dc(8,u,4,2,"div",36),s.Ub(),s.Ub()),2&t){const t=s.gc(2);s.Db(8),s.mc("ngForOf",t.SubCropData)}}function p(t,e){1&t&&(s.Vb(0,"div",34),s.Ec(1," Blund Plantation is required. "),s.Ub())}function S(t,e){if(1&t){const t=s.Wb();s.Vb(0,"div",13),s.Vb(1,"div",37),s.Vb(2,"label",25),s.Ec(3," Bund Plantation "),s.Vb(4,"label",16),s.Ec(5,"*"),s.Ub(),s.Ec(6,":"),s.Ub(),s.Ub(),s.Vb(7,"div",38),s.Vb(8,"mat-radio-group",39),s.cc("change",function(){return s.wc(t),s.gc(2).getBundPlantation()}),s.Vb(9,"mat-radio-button",40),s.Ec(10,"Yes"),s.Ub(),s.Vb(11,"mat-radio-button",41),s.Ec(12,"No"),s.Ub(),s.Ub(),s.Dc(13,p,2,0,"div",21),s.Ub(),s.Ub()}if(2&t){const t=s.gc(2);s.Db(13),s.mc("ngIf",t.BlockFormValid.bp_status.touched&&!t.BlockFormValid.bp_status.valid)}}function V(t,e){if(1&t&&(s.Vb(0,"option",33),s.Ec(1),s.Ub()),2&t){const t=e.$implicit;s.mc("ngValue",t),s.Db(1),s.Fc(t.SubCropName)}}function F(t,e){if(1&t){const t=s.Wb();s.Vb(0,"div",13),s.Vb(1,"div",14),s.Vb(2,"label",25),s.Ec(3,"Crop(Bund plantation)"),s.Vb(4,"label",16),s.Ec(5,"*"),s.Ub(),s.Ec(6,":"),s.Ub(),s.Ub(),s.Vb(7,"div",17),s.Vb(8,"select",42),s.cc("change",function(){s.wc(t);const e=s.gc(2);return e.getBPCropVariety(e.BlockTargetForm.value.bpSubCrop.SubCropId)}),s.Vb(9,"option",24),s.Ec(10,"--Select--"),s.Ub(),s.Dc(11,V,2,2,"option",20),s.Ub(),s.Ub(),s.Ub()}if(2&t){const t=s.gc(2);s.Db(11),s.mc("ngForOf",t.bpSubCropData)}}function D(t,e){if(1&t&&(s.Vb(0,"option",33),s.Ec(1),s.Ub()),2&t){const t=e.$implicit;s.mc("ngValue",t),s.Db(1),s.Fc(t.schemeName)}}function C(t,e){1&t&&(s.Vb(0,"div",34),s.Ec(1," Scheme is required. "),s.Ub())}function f(t,e){if(1&t&&(s.Vb(0,"option",33),s.Ec(1),s.Ub()),2&t){const t=e.$implicit;s.mc("ngValue",t),s.Db(1),s.Fc(t.CompName)}}function U(t,e){1&t&&(s.Vb(0,"div",34),s.Ec(1," Component is required. "),s.Ub())}function v(t,e){if(1&t&&(s.Vb(0,"option",33),s.Ec(1),s.Ub()),2&t){const t=e.$implicit;s.mc("ngValue",t),s.Db(1),s.Fc(t.CropName)}}function k(t,e){1&t&&(s.Vb(0,"div",34),s.Ec(1," Crop Catagory is required. "),s.Ub())}function B(t,e){if(1&t&&(s.Vb(0,"div",13),s.Vb(1,"div",14),s.Vb(2,"label",30),s.Ec(3,"Crop Category "),s.Vb(4,"label",16),s.Ec(5,"*"),s.Ub(),s.Ec(6,":"),s.Ub(),s.Ub(),s.Vb(7,"div",17),s.Vb(8,"select",43),s.Vb(9,"option",24),s.Ec(10,"--Select--"),s.Ub(),s.Dc(11,v,2,2,"option",20),s.Ub(),s.Dc(12,k,2,0,"div",21),s.Ub(),s.Ub()),2&t){const t=s.gc(2);s.Db(11),s.mc("ngForOf",t.cropData),s.Db(1),s.mc("ngIf",t.BlockFormValid.cropCategory.touched&&!t.BlockFormValid.cropCategory.valid)}}function E(t,e){if(1&t&&(s.Vb(0,"div",13),s.Vb(1,"div",14),s.Vb(2,"label",30),s.Ec(3,"Crop Variety "),s.Vb(4,"label",16),s.Ec(5,"*"),s.Ub(),s.Ec(6,":"),s.Ub(),s.Ub(),s.Vb(7,"div",17),s.Vb(8,"div",44),s.Qb(9,"ng-multiselect-dropdown",45),s.Ub(),s.Ub(),s.Ub()),2&t){const t=s.gc(2);s.Db(9),s.mc("settings",t.dropdownSettings)("data",t.CropVariety)}}function A(t,e){if(1&t&&(s.Vb(0,"option",33),s.Ec(1),s.Ub()),2&t){const t=e.$implicit;s.mc("ngValue",t.Variety_Code),s.Db(1),s.Fc(t.Variety_Name)}}function G(t,e){if(1&t&&(s.Vb(0,"div",13),s.Vb(1,"div",14),s.Vb(2,"label",46),s.Ec(3,"Crop Variety(Bund plantation) "),s.Vb(4,"label",16),s.Ec(5,"*"),s.Ub(),s.Ec(6,":"),s.Ub(),s.Ub(),s.Vb(7,"div",17),s.Vb(8,"select",47),s.Vb(9,"option",24),s.Ec(10,"--Select--"),s.Ub(),s.Dc(11,A,2,2,"option",20),s.Ub(),s.Ub(),s.Ub()),2&t){const t=s.gc(2);s.Db(11),s.mc("ngForOf",t.bpCropVarietyData)}}function w(t,e){if(1&t){const t=s.Wb();s.Vb(0,"div",48),s.Vb(1,"button",49),s.cc("click",function(){return s.wc(t),s.gc(2).loadDistrictTarget()}),s.Ec(2,"Modify Target "),s.Qb(3,"i",50),s.Ub(),s.Qb(4,"br"),s.Qb(5,"br"),s.Ub()}}function I(t,e){if(1&t){const t=s.Wb();s.Vb(0,"button",49),s.cc("click",function(){return s.wc(t),s.gc(3).goToTargetPage()}),s.Ec(1," Next "),s.Qb(2,"i",50),s.Ub()}}function _(t,e){if(1&t){const t=s.Wb();s.Vb(0,"button",53),s.cc("click",function(){return s.wc(t),s.gc(3).loadDistrictTarget()}),s.Ec(1,"Set Target "),s.Qb(2,"i",50),s.Ub()}if(2&t){const t=s.gc(3);s.mc("disabled",!t.BlockTargetForm.valid)}}function Q(t,e){if(1&t&&(s.Vb(0,"div",48),s.Dc(1,I,3,0,"button",51),s.Dc(2,_,3,1,"button",52),s.Qb(3,"br"),s.Qb(4,"br"),s.Ub()),2&t){const t=s.gc(2);s.Db(1),s.mc("ngIf",0==t.setTargetButton),s.Db(1),s.mc("ngIf",t.setTargetButton)}}function M(t,e){if(1&t){const t=s.Wb();s.Vb(0,"div",1),s.Vb(1,"div",2),s.Vb(2,"h5"),s.Ec(3,"Set Target"),s.Ub(),s.Vb(4,"span"),s.Ec(5,"Set target for block"),s.Ub(),s.Vb(6,"div",3),s.Qb(7,"i",4),s.Qb(8,"i",5),s.Qb(9,"i",6),s.Ub(),s.Ub(),s.Vb(10,"div"),s.Vb(11,"form",7),s.Vb(12,"div",8),s.Vb(13,"div",9),s.Vb(14,"div",10),s.Vb(15,"div",9),s.Vb(16,"div",11),s.Vb(17,"div",9),s.Vb(18,"div",12),s.Vb(19,"div",13),s.Vb(20,"div",14),s.Vb(21,"label",15),s.Ec(22,"Financial Year "),s.Vb(23,"label",16),s.Ec(24,"*"),s.Ub(),s.Ec(25,":"),s.Ub(),s.Ub(),s.Vb(26,"div",17),s.Vb(27,"select",18),s.Vb(28,"option",19),s.Ec(29,"--Select--"),s.Ub(),s.Dc(30,g,2,2,"option",20),s.Ub(),s.Dc(31,P,2,0,"div",21),s.Ub(),s.Ub(),s.Vb(32,"div",13),s.Vb(33,"div",14),s.Vb(34,"label",22),s.Ec(35,"Subscheme "),s.Vb(36,"label",16),s.Ec(37,"*"),s.Ub(),s.Ec(38,":"),s.Ub(),s.Ub(),s.Vb(39,"div",17),s.Vb(40,"select",23),s.cc("change",function(){return s.wc(t),s.gc().getComponent()}),s.Vb(41,"option",24),s.Ec(42,"--Select--"),s.Ub(),s.Dc(43,y,2,2,"option",20),s.Ub(),s.Dc(44,m,2,0,"div",21),s.Ub(),s.Ub(),s.Vb(45,"div",13),s.Vb(46,"div",14),s.Vb(47,"label",25),s.Ec(48,"Total Cost "),s.Vb(49,"label",16),s.Ec(50,"*"),s.Ub(),s.Ec(51,":"),s.Ub(),s.Ub(),s.Vb(52,"div",17),s.Qb(53,"input",26),s.Ub(),s.Ub(),s.Dc(54,T,9,1,"div",27),s.Dc(55,S,14,1,"div",27),s.Dc(56,F,12,1,"div",27),s.Ub(),s.Vb(57,"div",12),s.Vb(58,"div",13),s.Vb(59,"div",14),s.Vb(60,"label",28),s.Ec(61,"Scheme "),s.Vb(62,"label",16),s.Ec(63,"*"),s.Ub(),s.Ec(64,":"),s.Ub(),s.Ub(),s.Vb(65,"div",17),s.Vb(66,"select",29),s.cc("change",function(){return s.wc(t),s.gc().getSubscheme()}),s.Vb(67,"option",24),s.Ec(68,"--Select--"),s.Ub(),s.Dc(69,D,2,2,"option",20),s.Ub(),s.Dc(70,C,2,0,"div",21),s.Ub(),s.Ub(),s.Vb(71,"div",13),s.Vb(72,"div",14),s.Vb(73,"label",30),s.Ec(74,"Component "),s.Vb(75,"label",16),s.Ec(76,"*"),s.Ub(),s.Ec(77,":"),s.Ub(),s.Ub(),s.Vb(78,"div",17),s.Vb(79,"select",31),s.cc("change",function(){s.wc(t);const e=s.gc();return e.getComponentCost(),e.checkTargetAvailibity(),e.getCrops(),e.getSubCrop()}),s.Vb(80,"option",24),s.Ec(81,"--Select--"),s.Ub(),s.Dc(82,f,2,2,"option",20),s.Ub(),s.Dc(83,U,2,0,"div",21),s.Ub(),s.Ub(),s.Dc(84,B,13,2,"div",27),s.Dc(85,E,10,2,"div",27),s.Vb(86,"div",13),s.Qb(87,"div",14),s.Qb(88,"div",17),s.Ub(),s.Qb(89,"br"),s.Dc(90,G,12,1,"div",27),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Dc(91,w,6,0,"div",32),s.Dc(92,Q,5,2,"div",32),s.Ub(),s.Ub()}if(2&t){const t=s.gc();s.Db(11),s.mc("formGroup",t.BlockTargetForm),s.Db(19),s.mc("ngForOf",t.FinYears),s.Db(1),s.mc("ngIf",t.BlockFormValid.FinYear.touched&&!t.BlockFormValid.FinYear.valid),s.Db(12),s.mc("ngForOf",t.SubschemeData),s.Db(1),s.mc("ngIf",t.BlockFormValid.subscheme.touched&&!t.BlockFormValid.subscheme.valid),s.Db(10),s.mc("ngIf",t.showOtherInputs),s.Db(1),s.mc("ngIf",t.showOtherInputs),s.Db(1),s.mc("ngIf","yes"==t.BlockTargetForm.value.bp_status),s.Db(13),s.mc("ngForOf",t.AllSchemeData),s.Db(1),s.mc("ngIf",t.BlockFormValid.scheme.touched&&!t.BlockFormValid.scheme.valid),s.Db(12),s.mc("ngForOf",t.ComponentData),s.Db(1),s.mc("ngIf",t.BlockFormValid.component.touched&&!t.BlockFormValid.component.valid),s.Db(1),s.mc("ngIf",t.showOtherInputs),s.Db(1),s.mc("ngIf",t.showOtherInputs),s.Db(5),s.mc("ngIf","yes"==t.BlockTargetForm.value.bp_status),s.Db(1),s.mc("ngIf",t.setModifyButton),s.Db(1),s.mc("ngIf",t.showAddtable)}}function O(t,e){if(1&t){const t=s.Wb();s.Vb(0,"tr"),s.Vb(1,"th",63),s.Ec(2),s.Ub(),s.Vb(3,"th",63),s.Ec(4),s.Ub(),s.Vb(5,"td",64),s.Vb(6,"input",65),s.cc("ngModelChange",function(t){return e.$implicit.PhyGen=t})("ngModelChange",function(){s.wc(t);const i=e.index;return s.gc(3).multiFin(i,"PhyGen","FinGen","avl_phygen","totalPhyGen")}),s.Ub(),s.Qb(7,"span",59),s.Ub(),s.Vb(8,"td",64),s.Ec(9),s.hc(10,"number"),s.Ub(),s.Vb(11,"td",64),s.Vb(12,"input",65),s.cc("ngModelChange",function(t){return e.$implicit.PhySCP=t})("ngModelChange",function(){s.wc(t);const i=e.index;return s.gc(3).multiFin(i,"PhySCP","FinSCP","avl_physcp","totalPhySCP")}),s.Ub(),s.Qb(13,"span",59),s.Ub(),s.Vb(14,"td",64),s.Ec(15),s.hc(16,"number"),s.Ub(),s.Vb(17,"td",64),s.Vb(18,"input",65),s.cc("ngModelChange",function(t){return e.$implicit.PhyTASP=t})("ngModelChange",function(){s.wc(t);const i=e.index;return s.gc(3).multiFin(i,"PhyTASP","FinTASP","avl_phytasp","totalPhyTASP")}),s.Ub(),s.Qb(19,"span",59),s.Ub(),s.Vb(20,"td",64),s.Ec(21),s.hc(22,"number"),s.Ub(),s.Vb(23,"td",64),s.Ec(24),s.hc(25,"number"),s.Ub(),s.Vb(26,"td",64),s.Ec(27),s.hc(28,"number"),s.Ub(),s.Ub()}if(2&t){const t=e.$implicit,i=e.index;s.Db(2),s.Fc(i+1),s.Db(2),s.Gc(" ",t.Block_Name," "),s.Db(2),s.mc("ngModel",t.PhyGen),s.Db(3),s.Fc(s.jc(10,10,t.FinGen,"1.2-2")),s.Db(3),s.mc("ngModel",t.PhySCP),s.Db(3),s.Fc(s.jc(16,13,t.FinSCP,"1.2-2")),s.Db(3),s.mc("ngModel",t.PhyTASP),s.Db(3),s.Fc(s.jc(22,16,t.FinTASP,"1.2-2")),s.Db(3),s.Fc(s.ic(25,19,t.totalPhyByBlock)),s.Db(3),s.Fc(s.ic(28,21,t.totalFinByBlock))}}function j(t,e){if(1&t){const t=s.Wb();s.Vb(0,"div",55),s.Vb(1,"div",56),s.Vb(2,"table",57),s.Vb(3,"thead"),s.Vb(4,"tr"),s.Vb(5,"th"),s.Ec(6,"#"),s.Ub(),s.Vb(7,"th"),s.Ec(8," Blocks "),s.Ub(),s.Vb(9,"th"),s.Ec(10,"Physical(GEN)"),s.Qb(11,"br"),s.Ec(12,"(in Hectare)"),s.Ub(),s.Vb(13,"th"),s.Ec(14,"Financial(GEN)"),s.Qb(15,"br"),s.Ec(16," (in Rupee)"),s.Ub(),s.Vb(17,"th"),s.Ec(18,"Physical(SCP)"),s.Qb(19,"br"),s.Ec(20,"(in Hectare)"),s.Ub(),s.Vb(21,"th"),s.Ec(22,"Financial(SCP)"),s.Qb(23,"br"),s.Ec(24," (in Rupee)"),s.Ub(),s.Vb(25,"th"),s.Ec(26,"Physical(TASP)"),s.Qb(27,"br"),s.Ec(28,"(in Hectare)"),s.Ub(),s.Vb(29,"th"),s.Ec(30,"Financial(TASP)"),s.Qb(31,"br"),s.Ec(32," (in Rupee)"),s.Ub(),s.Vb(33,"th"),s.Ec(34,"Total(PHY)"),s.Qb(35,"br"),s.Ec(36,"(in Hectare)"),s.Ub(),s.Vb(37,"th"),s.Ec(38,"Total (FIN)"),s.Qb(39,"br"),s.Ec(40," ( in Rupee )"),s.Ub(),s.Ub(),s.Ub(),s.Vb(41,"tbody"),s.Vb(42,"tr"),s.Vb(43,"th"),s.Ec(44,"Available "),s.Qb(45,"br"),s.Ec(46," Target"),s.Ub(),s.Qb(47,"th"),s.Vb(48,"th"),s.Vb(49,"input",58),s.cc("ngModelChange",function(e){return s.wc(t),s.gc(2).totalPhyGen=e}),s.Ub(),s.Qb(50,"span",59),s.Ub(),s.Vb(51,"th"),s.Vb(52,"input",58),s.cc("ngModelChange",function(e){return s.wc(t),s.gc(2).totalFinGen=e}),s.Ub(),s.Qb(53,"span",59),s.Ub(),s.Vb(54,"th"),s.Vb(55,"input",58),s.cc("ngModelChange",function(e){return s.wc(t),s.gc(2).totalPhySCP=e}),s.Ub(),s.Qb(56,"span",59),s.Ub(),s.Vb(57,"th"),s.Vb(58,"input",58),s.cc("ngModelChange",function(e){return s.wc(t),s.gc(2).totalFinSCP=e}),s.Ub(),s.Qb(59,"span",59),s.Ub(),s.Vb(60,"th"),s.Vb(61,"input",58),s.cc("ngModelChange",function(e){return s.wc(t),s.gc(2).totalPhyTASP=e}),s.Ub(),s.Qb(62,"span",59),s.Ub(),s.Vb(63,"th"),s.Vb(64,"input",58),s.cc("ngModelChange",function(e){return s.wc(t),s.gc(2).totalFinTASP=e}),s.Ub(),s.Qb(65,"span",59),s.Ub(),s.Vb(66,"th"),s.Vb(67,"input",58),s.cc("ngModelChange",function(e){return s.wc(t),s.gc(2).totalPhy=e}),s.Ub(),s.Qb(68,"span",59),s.Ub(),s.Vb(69,"th"),s.Vb(70,"input",58),s.cc("ngModelChange",function(e){return s.wc(t),s.gc(2).totalFin=e}),s.Ub(),s.Qb(71,"span",59),s.Ub(),s.Ub(),s.Dc(72,O,29,23,"tr",36),s.Ub(),s.Ub(),s.Ub(),s.Vb(73,"div",48),s.Vb(74,"button",60),s.cc("click",function(){s.wc(t);const e=s.gc(2);return e.SubmitBlockTarget(),e.clicked=!0}),s.Ec(75,"Submit"),s.Ub(),s.Qb(76,"br"),s.Qb(77,"br"),s.Ub(),s.Vb(78,"div",8),s.Vb(79,"button",61),s.cc("click",function(){return s.wc(t),s.gc(2).backToComponentPage()}),s.Qb(80,"i",62),s.Ec(81,"Back"),s.Ub(),s.Ub(),s.Ub()}if(2&t){const t=s.gc(2);s.Db(49),s.mc("ngModel",t.totalPhyGen),s.Db(3),s.mc("ngModel",t.totalFinGen),s.Db(3),s.mc("ngModel",t.totalPhySCP),s.Db(3),s.mc("ngModel",t.totalFinSCP),s.Db(3),s.mc("ngModel",t.totalPhyTASP),s.Db(3),s.mc("ngModel",t.totalFinTASP),s.Db(3),s.mc("ngModel",t.totalPhy),s.Db(3),s.mc("ngModel",t.totalFin),s.Db(2),s.mc("ngForOf",t.BlockData),s.Db(2),s.mc("disabled",t.clicked)}}function N(t,e){if(1&t){const t=s.Wb();s.Vb(0,"tr"),s.Vb(1,"td",63),s.Ec(2),s.Ub(),s.Vb(3,"td",63),s.Vb(4,"span",59),s.Ec(5),s.Ub(),s.Qb(6,"br"),s.Vb(7,"span",59),s.Ec(8),s.Ub(),s.Ub(),s.Vb(9,"td",86),s.cc("click",function(){s.wc(t);const i=e.index;return s.gc(3).editTarget(i,"PhyGen","FinGen","modifiedPhyGen","totalPhyGen")}),s.Vb(10,"span",59),s.Ec(11),s.hc(12,"number"),s.Ub(),s.Qb(13,"i",87),s.Ub(),s.Vb(14,"td",64),s.Ec(15),s.hc(16,"number"),s.Ub(),s.Vb(17,"td",86),s.cc("click",function(){s.wc(t);const i=e.index;return s.gc(3).editTarget(i,"PhySCP","FinSCP","modifiedPhySCP","totalPhySCP")}),s.Vb(18,"span",59),s.Ec(19),s.hc(20,"number"),s.Ub(),s.Qb(21,"i",87),s.Ub(),s.Vb(22,"td",64),s.Ec(23),s.hc(24,"number"),s.Ub(),s.Vb(25,"td",86),s.cc("click",function(){s.wc(t);const i=e.index;return s.gc(3).editTarget(i,"PhyTASP","FinTASP","modifiedPhyTASP","totalPhyTASP")}),s.Vb(26,"span",59),s.Ec(27),s.hc(28,"number"),s.Ub(),s.Qb(29,"i",87),s.Ub(),s.Vb(30,"td",64),s.Ec(31),s.hc(32,"number"),s.Ub(),s.Vb(33,"td",64),s.Ec(34),s.hc(35,"number"),s.Ub(),s.Vb(36,"td",64),s.Ec(37),s.hc(38,"number"),s.Ub(),s.Ub()}if(2&t){const t=e.$implicit;s.Db(2),s.Fc(t.Block_Name),s.Db(3),s.Gc(" Total: ",t.totalTarget," "),s.Db(3),s.Gc(" Achieved: ",t.totalDistributedTarget," "),s.Db(3),s.Gc(" ",s.ic(12,11,t.PhyGen)," "),s.Db(4),s.Gc(" ",s.ic(16,13,t.FinGen)," "),s.Db(4),s.Gc(" ",s.ic(20,15,t.PhySCP)," "),s.Db(4),s.Gc(" ",s.ic(24,17,t.FinSCP)," "),s.Db(4),s.Gc(" ",s.ic(28,19,t.PhyTASP)," "),s.Db(4),s.Gc(" ",s.ic(32,21,t.FinTASP)," "),s.Db(3),s.Gc("",s.ic(35,23,t.totalPhyByDistrict)," "),s.Db(3),s.Gc(" ",s.ic(38,25,t.totalFinByDistrict),"")}}function x(t,e){if(1&t){const t=s.Wb();s.Vb(0,"div",55),s.Vb(1,"div",56),s.Vb(2,"table",57),s.Vb(3,"thead"),s.Vb(4,"tr"),s.Vb(5,"th"),s.Ec(6,"Blocks"),s.Ub(),s.Qb(7,"th"),s.Vb(8,"th"),s.Ec(9,"Physical(GEN) (ha)"),s.Ub(),s.Vb(10,"th"),s.Ec(11,"Financial(GEN) ("),s.Qb(12,"i",66),s.Ec(13,") "),s.Ub(),s.Vb(14,"th"),s.Ec(15,"Physical(SCP) (ha)"),s.Ub(),s.Vb(16,"th"),s.Ec(17,"Financial(SCP) ("),s.Qb(18,"i",66),s.Ec(19,")"),s.Ub(),s.Vb(20,"th"),s.Ec(21,"Physical(TASP) (ha)"),s.Ub(),s.Vb(22,"th"),s.Ec(23,"Financial(TASP) ("),s.Qb(24,"i",66),s.Ec(25,")"),s.Ub(),s.Vb(26,"th"),s.Ec(27,"Total(PHY) (ha)"),s.Ub(),s.Vb(28,"th"),s.Ec(29,"Total (FIN)("),s.Qb(30,"i",66),s.Ec(31,")"),s.Ub(),s.Ub(),s.Ub(),s.Vb(32,"tbody"),s.Vb(33,"tr"),s.Vb(34,"th"),s.Ec(35,"Target Available"),s.Qb(36,"i",67),s.Qb(37,"br"),s.Ec(38," (District)"),s.Ub(),s.Qb(39,"th"),s.Vb(40,"th"),s.Ec(41),s.hc(42,"number"),s.Ub(),s.Vb(43,"th"),s.Ec(44),s.hc(45,"number"),s.Ub(),s.Vb(46,"th"),s.Ec(47),s.hc(48,"number"),s.Ub(),s.Vb(49,"th"),s.Ec(50),s.hc(51,"number"),s.Ub(),s.Vb(52,"th"),s.Ec(53),s.hc(54,"number"),s.Ub(),s.Vb(55,"th"),s.Ec(56),s.hc(57,"number"),s.Ub(),s.Vb(58,"th"),s.Ec(59),s.hc(60,"number"),s.Ub(),s.Vb(61,"th"),s.Ec(62),s.hc(63,"number"),s.Ub(),s.Ub(),s.Dc(64,N,39,27,"tr",36),s.Vb(65,"tr"),s.Vb(66,"th"),s.Ec(67,"Target Available "),s.Qb(68,"br"),s.Ec(69," (District)"),s.Ub(),s.Qb(70,"th"),s.Vb(71,"th"),s.Ec(72),s.hc(73,"number"),s.Ub(),s.Vb(74,"th"),s.Ec(75),s.hc(76,"number"),s.Ub(),s.Vb(77,"th"),s.Ec(78),s.hc(79,"number"),s.Ub(),s.Vb(80,"th"),s.Ec(81),s.hc(82,"number"),s.Ub(),s.Vb(83,"th"),s.Ec(84),s.hc(85,"number"),s.Ub(),s.Vb(86,"th"),s.Ec(87),s.hc(88,"number"),s.Ub(),s.Vb(89,"th"),s.Ec(90),s.hc(91,"number"),s.Ub(),s.Vb(92,"th"),s.Ec(93),s.hc(94,"number"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(95,"div",48),s.Vb(96,"button",68),s.cc("click",function(){return s.wc(t),s.gc(2).UpdateBlockTarget()}),s.Ec(97,"Update "),s.Ub(),s.Qb(98,"br"),s.Qb(99,"br"),s.Ub(),s.Vb(100,"div",69),s.Vb(101,"div",70),s.Vb(102,"div",71),s.Vb(103,"div",72),s.Vb(104,"h4",73),s.Ec(105),s.Ub(),s.Vb(106,"button",74),s.Vb(107,"span",75),s.Ec(108,"\xd7"),s.Ub(),s.Ub(),s.Ub(),s.Vb(109,"div",76),s.Vb(110,"table",77),s.Vb(111,"tbody"),s.Vb(112,"tr"),s.Vb(113,"td",63),s.Vb(114,"span",59),s.Ec(115," Available District Target : "),s.Ub(),s.Ub(),s.Vb(116,"td",63),s.Vb(117,"span",59),s.Ec(118),s.Ub(),s.Ub(),s.Ub(),s.Vb(119,"tr"),s.Vb(120,"td",63),s.Vb(121,"span",59),s.Ec(122," Blocks: "),s.Ub(),s.Ub(),s.Vb(123,"td",63),s.Vb(124,"span",59),s.Ec(125),s.Ub(),s.Ub(),s.Ub(),s.Vb(126,"tr"),s.Vb(127,"td",63),s.Vb(128,"span",59),s.Ec(129," Target for: "),s.Ub(),s.Ub(),s.Vb(130,"td",63),s.Vb(131,"span",59),s.Ec(132),s.Ub(),s.Ub(),s.Ub(),s.Vb(133,"tr"),s.Vb(134,"td",63),s.Vb(135,"span",59),s.Ec(136," Previous Available Target(Block): "),s.Ub(),s.Ub(),s.Vb(137,"td",63),s.Vb(138,"span",59),s.Ec(139),s.Ub(),s.Ub(),s.Ub(),s.Vb(140,"tr"),s.Vb(141,"td",63),s.Vb(142,"span",59),s.Ec(143," Current Available Target(Block): "),s.Ub(),s.Ub(),s.Vb(144,"td",63),s.Vb(145,"strong",59),s.Ec(146),s.Ub(),s.Ub(),s.Ub(),s.Vb(147,"tr"),s.Vb(148,"td",63),s.Vb(149,"span",59),s.Ec(150,"Add or Substract Target: "),s.Ub(),s.Ub(),s.Vb(151,"td",63),s.Vb(152,"input",78),s.cc("ngModelChange",function(e){return s.wc(t),s.gc(2).selectedTarget.enteredTarget=e}),s.Ub(),s.Ub(),s.Ub(),s.Vb(153,"tr"),s.Qb(154,"td",63),s.Vb(155,"td",79),s.Vb(156,"button",80),s.cc("click",function(){return s.wc(t),s.gc(2).addTarget()}),s.Qb(157,"i",81),s.Ub(),s.Ec(158,"\xa0\xa0 "),s.Vb(159,"button",80),s.cc("click",function(){return s.wc(t),s.gc(2).substractTarget()}),s.Qb(160,"i",82),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(161,"p"),s.Vb(162,"strong"),s.Ec(163,"Note:"),s.Ub(),s.Ec(164," Target must be divisible by 100 and it should be a positive number "),s.Ub(),s.Ub(),s.Vb(165,"div",83),s.Vb(166,"button",84),s.Ec(167,"Close"),s.Ub(),s.Vb(168,"button",85),s.cc("click",function(){return s.wc(t),s.gc(2).modifyTarget()}),s.Ec(169,"Modify"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()}if(2&t){const t=s.gc(2);s.Db(41),s.Fc(s.jc(42,24,t.totalPhyGen,"1.2-2")),s.Db(3),s.Fc(s.jc(45,27,t.totalFinGen,"1.2-2")),s.Db(3),s.Fc(s.jc(48,30,t.totalPhySCP,"1.2-2")),s.Db(3),s.Fc(s.jc(51,33,t.totalFinSCP,"1.2-2")),s.Db(3),s.Fc(s.jc(54,36,t.totalPhyTASP,"1.2-2")),s.Db(3),s.Fc(s.jc(57,39,t.totalFinTASP,"1.2-2")),s.Db(3),s.Fc(s.jc(60,42,t.totalPhy,"1.2-2")),s.Db(3),s.Fc(s.jc(63,45,t.totalFin,"1.2-2")),s.Db(2),s.mc("ngForOf",t.BlockData),s.Db(8),s.Fc(s.jc(73,48,t.totalPhyGen,"1.2-2")),s.Db(3),s.Fc(s.jc(76,51,t.totalFinGen,"1.2-2")),s.Db(3),s.Fc(s.jc(79,54,t.totalPhySCP,"1.2-2")),s.Db(3),s.Fc(s.jc(82,57,t.totalFinSCP,"1.2-2")),s.Db(3),s.Fc(s.jc(85,60,t.totalPhyTASP,"1.2-2")),s.Db(3),s.Fc(s.jc(88,63,t.totalFinTASP,"1.2-2")),s.Db(3),s.Fc(s.jc(91,66,t.totalPhy,"1.2-2")),s.Db(3),s.Fc(s.jc(94,69,t.totalFin,"1.2-2")),s.Db(12),s.Gc("Modify Target for ",t.selectedTarget.targetFor,""),s.Db(13),s.Gc(" ",t.selectedTarget.distAvlTarget,""),s.Db(7),s.Gc(" ",t.selectedTarget.Block_Name,""),s.Db(7),s.Gc(" ",t.selectedTarget.targetFor,""),s.Db(7),s.Gc(" ",t.selectedTarget.target||0,""),s.Db(7),s.Gc(" ",t.selectedTarget.currentTarget||0," "),s.Db(6),s.mc("ngModel",t.selectedTarget.enteredTarget)}}function Y(t,e){if(1&t&&(s.Vb(0,"div",1),s.Vb(1,"div",2),s.Vb(2,"h5"),s.Ec(3,"Set Target"),s.Ub(),s.Vb(4,"span"),s.Ec(5,"Set target for block"),s.Ub(),s.Vb(6,"div",3),s.Qb(7,"i",4),s.Qb(8,"i",5),s.Qb(9,"i",6),s.Ub(),s.Ub(),s.Dc(10,j,82,10,"div",54),s.Dc(11,x,170,72,"div",54),s.Ub()),2&t){const t=s.gc();s.Db(10),s.mc("ngIf",t.showSubmit),s.Db(1),s.mc("ngIf",t.showUpdate)}}const q=[{path:"",component:(()=>{class t{constructor(t,e,i,o,a){this.cdaoService=t,this.layoutService=e,this.fb=i,this.router=o,this.toastr=a,this.PhyGen=0,this.FinGen=0,this.PhySCP=0,this.FinSCP=0,this.PhyTASP=0,this.FinTASP=0,this.totalPhyByBlock=0,this.totalFinByBlock=0,this.subsidy=0,this.totalPhy=0,this.totalFin=0,this.totalPhyGen=0,this.totalFinGen=0,this.totalPhySCP=0,this.totalFinSCP=0,this.totalPhyTASP=0,this.totalFinTASP=0,this.dataSource=[],this.totalTarget=0,this.dropdownList=[],this.dropdownSettings={},this.selectedTarget={},this.select1=!1,this.multiselect=!0,this.showUpdate=!1,this.showSubmit=!1,this.BlockTargetList=[],this.showAddtable=!1,this.showComponent=!0,this.showTarget=!1,this.setTargetButton=!0,this.TechnicalData=[],this.CropVariety=[],this.totalPhyGenAllBlock=0,this.totalPhyScpAllBlock=0,this.totalPhyTaspAllBlock=0,this.submitPage=!1,this.showOtherInputs=!1,this.setModifyButton=!1,this.CompTargetData=[],this.ItemTechDetails=[],this.clicked=!1,this.getFinYear=()=>Object(c.a)(this,void 0,void 0,function*(){try{const t=yield this.layoutService.getFinYear().toPromise();this.FinYears=t.Years,this.Season=t.Season}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.loadBlocks=()=>Object(c.a)(this,void 0,void 0,function*(){try{this.BlockData=yield this.cdaoService.getBlocks().toPromise()}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getAllScheme=()=>Object(c.a)(this,void 0,void 0,function*(){try{this.AllSchemeData=yield this.cdaoService.getAllScheme().toPromise(),this.getSubscheme()}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getSubscheme=()=>Object(c.a)(this,void 0,void 0,function*(){try{this.BlockTargetForm.patchValue({subscheme:""});const t=this.BlockTargetForm.value.scheme.schemeId;this.SubschemeData=yield this.cdaoService.getSubscheme(t).toPromise(),this.BlockTargetForm.patchValue({component:""}),this.getComponent()}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getComponent=()=>Object(c.a)(this,void 0,void 0,function*(){try{this.BlockTargetForm.patchValue({component:""});const t=this.BlockTargetForm.value.subscheme.SubschemeId,e=this.BlockTargetForm.value.FinYear;this.ComponentData=yield this.cdaoService.getComponent(t,e).toPromise(),this.getCrops()}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getComponentCost=()=>Object(c.a)(this,void 0,void 0,function*(){try{const t=this.BlockTargetForm.value.component.CompId;this.ComponentCostData=yield this.cdaoService.getComponentCost(t).toPromise(),this.BlockTargetForm.patchValue({totalCost:this.ComponentCostData[0].Total_Cost})}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getCrops=()=>Object(c.a)(this,void 0,void 0,function*(){try{const t=this.BlockTargetForm.value.subscheme.SubschemeId,e=this.BlockTargetForm.value.component.CompId;this.cropData=yield this.cdaoService.getCrops(t,e).toPromise(),this.getSubCrop()}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getSubCrop=()=>Object(c.a)(this,void 0,void 0,function*(){try{const t=this.BlockTargetForm.value.component.CompId,e=this.BlockTargetForm.value.component.CompTypeId;this.SubCropData=yield this.cdaoService.getSubCrop(t,e).toPromise(),this.CropVariety=[],this.SubCropData.forEach(t=>{this.getCropVariety(t.subcropid)})}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getCropVariety=t=>Object(c.a)(this,void 0,void 0,function*(){try{const e=yield this.cdaoService.getCropVariety(t).toPromise();this.CropVariety=[...this.CropVariety,...e]}catch(e){this.toastr.error("Sorry. Server problem. Please try again."),console.error(e)}}),this.getBundPlantation=()=>Object(c.a)(this,void 0,void 0,function*(){try{if("yes"==this.BlockTargetForm.value.bp_status){const t=yield this.cdaoService.getbpItems(this.BlockTargetForm.value.component.CompId).toPromise();null!=t?(this.bp_ItemId=t.ItemId,this.getAllbpSubCrop(t)):this.toastr.warning("There is no bund plantation crop in this component.")}else this.bp_ItemId=null;this.showAddtable=!0}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getAllbpSubCrop=t=>Object(c.a)(this,void 0,void 0,function*(){try{const e=this.BlockTargetForm.value.component.CompId,i=t.ItemId;this.bpSubCropData=yield this.cdaoService.getAllbpSubCrop(e,i).toPromise()}catch(e){this.toastr.error("Sorry. Server problem. Please try again."),console.error(e)}}),this.getBPCropVariety=t=>Object(c.a)(this,void 0,void 0,function*(){try{this.bpCropVarietyData=yield this.cdaoService.getBPCropVariety(t).toPromise()}catch(e){this.toastr.error("Sorry. Server problem. Please try again."),console.error(e)}}),this.AddItemDetails=()=>{this.showAddtable=!0,this.BlockTargetList.push(this.BlockTargetForm.value),this.BlockTargetForm.patchValue({item:"",technicalName:""})},this.removeItemDetails=t=>{this.BlockTargetList.splice(t,1)},this.checkTargetAvailibity=()=>Object(c.a)(this,void 0,void 0,function*(){try{const t=this.BlockTargetForm.value.component.CompId,e=this.BlockTargetForm.value.FinYear;this.DistrictTargetData=yield this.cdaoService.getDistrictTarget(t,e).toPromise(),this.DistrictTargetData.length>0?(this.BlockTargetData=yield this.cdaoService.getBlockTargetData(t,e).toPromise(),this.BlockTargetData.length>0?(this.showOtherInputs=!1,this.setModifyButton=!0,this.showAddtable=!1):(this.showOtherInputs=!0,this.setModifyButton=!1,this.getCrops())):this.toastr.warning("There is no target for this Component in this District")}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.loadDistrictTarget=()=>Object(c.a)(this,void 0,void 0,function*(){try{this.showComponent=!1,this.showTarget=!0;const t=this.BlockTargetForm.value.component.CompId,e=this.BlockTargetForm.value.FinYear;this.DistrictTargetData=yield this.cdaoService.getDistrictTarget(t,e).toPromise(),this.DistrictTargetData.length>0?(this.totalPhyGen=+this.DistrictTargetData[0].avl_phygen,this.totalFinGen=+this.totalPhyGen*+this.DistrictTargetData[0].Total_Cost,this.totalPhySCP=+this.DistrictTargetData[0].avl_physcp,this.totalFinSCP=+this.totalPhySCP*+this.DistrictTargetData[0].Total_Cost,this.totalPhyTASP=+this.DistrictTargetData[0].avl_phytasp,this.totalFinTASP=+this.totalPhyTASP*+this.DistrictTargetData[0].Total_Cost,this.totalPhy=+this.totalPhyGen+ +this.totalPhySCP+ +this.totalPhyTASP,this.totalFin=+this.totalFinGen+ +this.totalFinSCP+ +this.totalFinTASP):(this.totalPhyGen=0,this.totalFinGen=0,this.totalPhySCP=0,this.totalFinSCP=0,this.totalPhyTASP=0,this.totalFinTASP=0,this.totalPhy=0,this.totalFin=0),this.loadBlockTargetData()}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.loadBlockTargetData=()=>Object(c.a)(this,void 0,void 0,function*(){try{const t=this.BlockTargetForm.value.component.CompId,e=this.BlockTargetForm.value.FinYear;this.BlockTargetData=yield this.cdaoService.getBlockTargetData(t,e).toPromise(),this.BlockTargetData.length>0?(this.showSubmit=!1,this.showUpdate=!0,this.BlockTargetData.forEach(t=>{this.BlockData.forEach(e=>{if(t.Block_Code==e.Block_Code)return e.PhyGen=+t.avl_phygen,e.FinGen=+e.PhyGen*+t.Total_Cost,e.PhySCP=+t.avl_physcp,e.FinSCP=+e.PhySCP*+t.Total_Cost,e.PhyTASP=+t.avl_phytasp,e.FinTASP=+e.PhyTASP*+t.Total_Cost,e.totalPhyByDistrict=+e.PhyGen+ +e.PhySCP+ +e.PhyTASP,e.totalFinByDistrict=+e.FinGen+ +e.FinSCP+ +e.FinTASP,e.totalPhyByBlock=+e.PhyGen+ +e.PhySCP+ +e.PhyTASP,e.totalFinByBlock=+e.FinGen+ +e.FinSCP+ +e.FinTASP,e.totalTarget=+t.totalTarget,e.totalDistributedTarget=+t.totalDistributedTarget,e})})):(this.showSubmit=!0,this.showUpdate=!1,this.BlockData.forEach(t=>{t.PhyGen=0,t.PhySCP=0,t.PhyTASP=0,t.FinGen=0,t.FinSCP=0,t.FinTASP=0}))}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.backToComponentPage=()=>{try{this.showComponent=!0,this.showTarget=!1,this.setTargetButton=!1}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}},this.goToTargetPage=()=>{try{this.showComponent=!1,this.loadDistrictTarget(),this.showTarget=!0}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}},this.multiFin=(t,e,i,o,a)=>{const c=this.BlockData[t];if(c[e]>=0)this.subsidy=+this.DistrictTargetData[0].Total_Cost,c[i]=c[e]*this.subsidy,this.calculateDistAvl(t,e,i,o,a);else switch(this.toastr.warning("Target Should be Greater than 0."),e){case"PhyGen":this.BlockData[t].PhyGen="";break;case"PhySCP":this.BlockData[t].PhySCP="";break;case"PhyTASP":this.BlockData[t].PhyTASP=""}},this.calculateDistAvl=(t,e,i,o,a)=>{const c=this.BlockData[t],r="totalPhyGen",s="totalPhySCP",n=a==r?r:a==s?s:"totalPhyTASP";this.BlockTargetData.length>0?c[e]>(0|this.BlockTargetData[t][o])?"totalPhyGen"==n?(this.totalPhyGen=+this.DistrictTargetData[0][o]-(+c[e]-+this.BlockTargetData[t][o]),this.totalFinGen=this.totalPhyGen*this.DistrictTargetData[0].Total_Cost,this.TotalPhyFinTarget(),this.totalPhyByBlock=+c.PhyGen+ +c.PhySCP+ +c.PhyTASP,this.totalFinByBlock=+c.FinGen+ +c.FinSCP+ +c.FinTASP):"totalPhySCP"==n?(this.totalPhySCP=+this.DistrictTargetData[0][o]-(+c[e]-+this.BlockTargetData[t][o]),this.totalFinSCP=this.totalPhySCP*this.DistrictTargetData[0].Total_Cost,this.TotalPhyFinTarget(),this.totalPhyByBlock=+c.PhyGen+ +c.PhySCP+ +c.PhyTASP,this.totalFinByBlock=+c.FinGen+ +c.FinSCP+ +c.FinTASP):(this.totalPhyTASP=+this.DistrictTargetData[0][o]-(+c[e]-+this.BlockTargetData[t][o]),this.totalFinTASP=this.totalPhyTASP*this.DistrictTargetData[0].Total_Cost,this.TotalPhyFinTarget(),this.totalPhyByBlock=+c.PhyGen+ +c.PhySCP+ +c.PhyTASP,this.totalFinByBlock=+c.FinGen+ +c.FinSCP+ +c.FinTASP):"totalPhyGen"==n?(this.totalPhyGen=+this.BlockTargetData[t][o]-+c[e]+ +this.DistrictTargetData[0][o],this.totalFinGen=this.totalPhyGen*this.DistrictTargetData[0].Total_Cost,this.TotalPhyFinTarget(),this.totalPhyByBlock=+c.PhyGen+ +c.PhySCP+ +c.PhyTASP,this.totalFinByBlock=+c.FinGen+ +c.FinSCP+ +c.FinTASP):"totalPhySCP"==n?(this.totalPhySCP=+this.BlockTargetData[t][o]-+c[e]+ +this.DistrictTargetData[0][o],this.totalFinSCP=this.totalPhySCP*this.DistrictTargetData[0].Total_Cost,this.TotalPhyFinTarget(),this.totalPhyByBlock=+c.PhyGen+ +c.PhySCP+ +c.PhyTASP,this.totalFinByBlock=+c.FinGen+ +c.FinSCP+ +c.FinTASP):(this.totalPhyTASP=+this.BlockTargetData[t][o]-+c[e]+ +this.DistrictTargetData[0][o],this.totalFinTASP=this.totalPhyTASP*this.DistrictTargetData[0].Total_Cost,this.TotalPhyFinTarget(),this.totalPhyByBlock=+c.PhyGen+ +c.PhySCP+ +c.PhyTASP,this.totalFinByBlock=+c.FinGen+ +c.FinSCP+ +c.FinTASP):"totalPhyGen"==n?(this.totalPhyGenAllBlock=0,this.totalPhyGen=this.DistrictTargetData[0][o],this.BlockData.forEach(t=>{this.totalPhyGenAllBlock+=+t.PhyGen,t.PhyGen<=this.totalPhyGen?(this.totalPhyGen=+this.totalPhyGen-+t.PhyGen,this.totalFinGen=this.totalPhyGen*this.DistrictTargetData[0].Total_Cost,this.TotalPhyFinTarget(),t.totalPhyByBlock=+t.PhyGen+ +t.PhySCP+ +t.PhyTASP,t.totalFinByBlock=+t.FinGen+ +t.FinSCP+ +t.FinTASP):(c[e]=0,t.totalPhyByBlock=0,t.totalFinByBlock=0,this.totalPhyGen=+this.totalPhyGen-+c[e],this.toastr.warning("Target should not be exceed the available target."))})):"totalPhySCP"==n?(this.totalPhyScpAllBlock=0,this.totalPhySCP=this.DistrictTargetData[0][o],this.BlockData.forEach(t=>{this.totalPhyScpAllBlock+=+t.PhySCP,t.PhySCP<=this.totalPhySCP?(this.totalPhySCP=+this.totalPhySCP-+t.PhySCP,this.totalFinSCP=this.totalPhySCP*this.DistrictTargetData[0].Total_Cost,this.TotalPhyFinTarget(),t.totalPhyByBlock=+t.PhyGen+ +t.PhySCP+ +t.PhyTASP,t.totalFinByBlock=+t.FinGen+ +t.FinSCP+ +t.FinTASP):(c[e]=0,t.totalPhyByBlock=0,t.totalFinByBlock=0,this.totalPhySCP=+this.totalPhySCP-+c[e],this.toastr.warning("Target should not be exceed the available target."))})):(this.totalPhyTaspAllBlock=0,this.totalPhyTASP=this.DistrictTargetData[0][o],this.BlockData.forEach(t=>{this.totalPhyTaspAllBlock+=+t.PhyTASP,t.PhyTASP<=this.totalPhyTASP?(this.totalPhyTASP=+this.totalPhyTASP-+t.PhyTASP,this.totalFinTASP=this.totalPhyTASP*this.DistrictTargetData[0].Total_Cost,this.TotalPhyFinTarget(),t.totalPhyByBlock=+t.PhyGen+ +t.PhySCP+ +t.PhyTASP,t.totalFinByBlock=+t.FinGen+ +t.FinSCP+ +t.FinTASP):(c[e]=0,t.totalPhyByBlock=0,t.totalFinByBlock=0,this.totalPhyTASP=+this.totalPhyTASP-c[e],this.toastr.warning("Target should not be exceed the available target."))}))},this.TotalPhyFinTarget=()=>{this.totalPhy=+this.totalPhyGen+ +this.totalPhySCP+ +this.totalPhyTASP,this.totalFin=+this.totalFinGen+ +this.totalFinSCP+ +this.totalFinTASP},this.SubmitBlockTarget=()=>Object(c.a)(this,void 0,void 0,function*(){try{const t=this.SubCropData.map(t=>t.subcropid),e=this.BlockTargetForm.value.cropVariety.map(t=>t.Variety_Code),i={compDetails:{DtargetId:this.DistrictTargetData[0].DtargetId,schemeId:this.BlockTargetForm.value.scheme.schemeId,SubschemeId:this.BlockTargetForm.value.subscheme.SubschemeId,CompId:this.BlockTargetForm.value.component.CompId,CropId:this.BlockTargetForm.value.cropCategory.CropId,SubCropId:t.toString(),Variety_Code:e.toString(),bp_ItemId:this.bp_ItemId,BP_SubCropId:this.BlockTargetForm.value.bpSubCrop.SubCropId,BP_Variety_Code:this.BlockTargetForm.value.bpCropVariety,Total_Cost:this.DistrictTargetData[0].Total_Cost,Fin_Year:this.BlockTargetForm.value.FinYear},blockTarget:this.BlockData};this.BlockTargetResult=yield this.cdaoService.SubmitBlockTarget(i).toPromise(),"Target Added Successfully."==this.BlockTargetResult.message?(this.resetBlockDataArray(),this.BlockTargetList=[],this.showAddtable=!1,this.showSubmit=!1,this.toastr.success(this.BlockTargetResult.message),this.router.navigate(["cdao/dashboard"])):this.toastr.error(this.BlockTargetResult.message)}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.editTarget=(t,e,i,o,a)=>{const c=this.BlockData[t];switch(this.selectedTarget=c,this.selectedTarget.targetFor=e,this.selectedTarget.key=e,this.selectedTarget.finKey=i,this.selectedTarget.target=+c[e],this.selectedTarget.currentTarget=+c[e],this.selectedTarget.changesKey=o,a){case"totalPhyGen":this.selectedTarget.distAvlTarget=this.totalPhyGen;break;case"totalPhySCP":this.selectedTarget.distAvlTarget=this.totalPhySCP;break;case"totalPhyTASP":this.selectedTarget.distAvlTarget=this.totalPhyTASP}},this.addTarget=()=>{const t=this.selectedTarget.currentTarget+ +this.selectedTarget.enteredTarget||0;if(t>=0&&this.selectedTarget.enteredTarget<=this.selectedTarget.distAvlTarget){this.selectedTarget.currentTarget=t;const e=this.selectedTarget.changesKey;this.selectedTarget[e]=(+this.selectedTarget[e]||0)+(+this.selectedTarget.enteredTarget||0),this.selectedTarget.distAvlTarget=(+this.selectedTarget.distAvlTarget||0)-(+this.selectedTarget.enteredTarget||0)}else this.toastr.warning("Invalid Target");this.selectedTarget.enteredTarget=0},this.substractTarget=()=>{const t=this.selectedTarget.currentTarget-+this.selectedTarget.enteredTarget||0;if(t>=0){this.selectedTarget.currentTarget=t;const e=this.selectedTarget.changesKey;this.selectedTarget[e]=(+this.selectedTarget[e]||0)-(+this.selectedTarget.enteredTarget||0),this.selectedTarget.distAvlTarget=(+this.selectedTarget.distAvlTarget||0)+(+this.selectedTarget.enteredTarget||0)}else this.toastr.warning("Invalid Target");this.selectedTarget.enteredTarget=0},this.modifyTarget=()=>{const t=this.BlockData.findIndex(t=>t.Block_Code==this.selectedTarget.Block_Code),e=this.selectedTarget.key,i=this.selectedTarget.finKey;switch(this.BlockData[t][e]=this.selectedTarget.currentTarget,this.BlockData[t][i]=this.BlockData[t][e]*this.DistrictTargetData[0].Total_Cost,e){case"PhyGen":this.totalPhyGen=+this.selectedTarget.distAvlTarget,this.totalFinGen=+this.totalPhyGen*+this.DistrictTargetData[0].Total_Cost,this.totalPhy=+this.totalPhyGen+ +this.totalPhySCP+ +this.totalPhyTASP,this.totalFin=+this.totalFinGen+ +this.totalFinSCP+ +this.totalFinTASP;break;case"PhySCP":this.totalPhySCP=+this.selectedTarget.distAvlTarget,this.totalFinSCP=+this.totalPhySCP*+this.DistrictTargetData[0].Total_Cost,this.totalPhy=+this.totalPhyGen+ +this.totalPhySCP+ +this.totalPhyTASP,this.totalFin=+this.totalFinGen+ +this.totalFinSCP+ +this.totalFinTASP;break;case"PhyTASP":this.totalPhyTASP=+this.selectedTarget.distAvlTarget,this.totalFinTASP=+this.totalPhyTASP*+this.DistrictTargetData[0].Total_Cost,this.totalPhy=+this.totalPhyGen+ +this.totalPhySCP+ +this.totalPhyTASP,this.totalFin=+this.totalFinGen+ +this.totalFinSCP+ +this.totalFinTASP}this.calculateDistrictWiseTotal(t),this.selectedTarget={}},this.calculateDistrictWiseTotal=t=>{this.BlockData[t].totalPhyByDistrict=+this.BlockData[t].PhyGen+ +this.BlockData[t].PhySCP+ +this.BlockData[t].PhyTASP,this.BlockData[t].totalFinByDistrict=+this.BlockData[t].FinGen+ +this.BlockData[t].FinSCP+ +this.BlockData[t].FinTASP},this.calculateTotal=()=>{this.totalPhyGen=0,this.totalFinGen=0,this.totalPhySCP=0,this.totalFinSCP=0,this.totalPhyTASP=0,this.totalFinTASP=0,this.totalPhy=0,this.totalFin=0,this.BlockData.forEach(t=>{this.totalPhyGen+=+t.PhyGen||0,this.totalFinGen+=+t.FinGen||0,this.totalPhySCP+=+t.PhySCP||0,this.totalFinSCP+=+t.FinSCP||0,this.totalPhyTASP+=+t.PhyTASP||0,this.totalFinTASP+=+t.FinTASP||0,this.totalPhy=this.totalPhyGen+this.totalPhySCP+this.totalPhyTASP,this.totalFin=this.totalFinGen+this.totalFinSCP+this.totalFinTASP})},this.UpdateBlockTarget=()=>Object(c.a)(this,void 0,void 0,function*(){try{const t={schemeId:this.BlockTargetData[0].schemeId,compId:this.BlockTargetData[0].CompId,totalCost:this.DistrictTargetData[0].Total_Cost,finYear:this.BlockTargetData[0].Fin_Year,blockTargetList:this.BlockData};this.BlockTargetResult=yield this.cdaoService.UpdateBlockTarget(t).toPromise(),this.resetBlockDataArray(),this.toastr.success(this.BlockTargetResult.message),this.router.navigate(["cdao/dashboard"])}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.resetBlockDataArray=()=>{this.BlockTargetForm.reset(),this.totalPhyGen=0,this.totalPhyGen=0,this.totalFinGen=0,this.totalPhySCP=0,this.totalFinSCP=0,this.totalPhyTASP=0,this.totalFinTASP=0,this.totalPhy=0,this.totalFin=0,this.BlockData.forEach(t=>(t.PhyGen=0,t.FinGen=0,t.PhySCP=0,t.FinSCP=0,t.PhyTASP=0,t.FinTASP=0,t.totalPhyByDistrict=+t.PhyGen+ +t.PhySCP+ +t.PhyTASP,t.totalFinByDistrict=+t.FinGen+ +t.FinSCP+ +t.FinTASP,this.totalPhyByBlock=+t.PhyGen+ +t.PhySCP+ +t.PhyTASP,this.totalFinByBlock=+t.FinGen+ +t.FinSCP+ +t.FinTASP,t)),this.router.navigate(["/cdao/block-target"]),this.showComponent=!0},this.pageTitle="Target",this.pageDesc="Set Target for Blocks",this.breadcrumbList=["Set Target to Districts"],this.BlockTargetDetailsList=[],this.BlockTargetForm=this.fb.group({scheme:["",[r.s.required]],subscheme:["",[r.s.required]],component:["",[r.s.required]],bp_status:["",[r.s.required]],cropCategory:[""],cropVariety:["",[r.s.required]],subCrop:[""],totalCost:["",[r.s.required]],bpCropVariety:[""],bpSubCrop:[""],FinYear:["",[r.s.required]]})}ngOnInit(){setTimeout(()=>{this.layoutService.setTitle(this.pageTitle),this.layoutService.setPageHeadingDesc(this.pageDesc),this.layoutService.setBreadcrumb(this.breadcrumbList)}),this.getFinYear(),this.loadBlocks(),this.getAllScheme(),this.dropdownSettings={idField:"Variety_Code",textField:"Variety_Name",allowSearchFilter:!0}}get BlockFormValid(){return this.BlockTargetForm.controls.totalCost.disable(),this.BlockTargetForm.controls}}return t.\u0275fac=function(e){return new(e||t)(s.Pb(n.a),s.Pb(l.a),s.Pb(r.c),s.Pb(a.a),s.Pb(h.b))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-block-target"]],decls:2,vars:2,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-header-right"],[1,"icofont","icofont-rounded-down"],[1,"icofont","icofont-refresh"],[1,"icofont","icofont-close-circled"],[3,"formGroup"],[1,"card-block"],[1,"row"],[1,"col-sm-12"],[1,"col-md-12"],[1,"col-lg-6","col","md-6"],[1,"form-group","row"],[1,"col-sm-4","col-lg-3"],["for","FinYear",1,"block"],[1,"asterik"],[1,"col-sm-4","col-lg-9"],["formControlName","FinYear","id","FinYear",1,"form-control","form-control-default"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["for","subscheme",1,"block"],["id","subscheme","formControlName","subscheme",1,"form-control","form-control-default",3,"change"],["value","","disabled",""],["for","subsidy",1,"block"],["type","text","formControlName","totalCost",1,"form-control","form-control-default"],["class","form-group row",4,"ngIf"],["for","fuel",1,"block"],["id","scheme","formControlName","scheme",1,"form-control","form-control-default",3,"change"],["for","component",1,"block"],["id","component","formControlName","component",1,"form-control","form-control-default",3,"change"],["style","padding: 20px;",4,"ngIf"],[3,"ngValue"],[1,"text-danger"],["for","subCrop","formControlName","subCrop","ngDefaultControl","",1,"block"],[4,"ngFor","ngForOf"],[1,"col-sm-4","col-lg-4"],[1,"col-sm-4","col-lg-8"],["aria-label","Select an option","formControlName","bp_status",3,"change"],["value","yes"],["value","no"],["formControlName","bpSubCrop",1,"form-control","form-control-default",3,"change"],["id","cropCategory","formControlName","cropCategory",1,"form-control","form-control-default"],[2,"width","100%"],["formControlName","cropVariety",3,"settings","data"],[1,"block"],["formControlName","bpCropVariety",1,"form-control","form-control-default"],[2,"padding","20px"],["type","button",1,"btn","btn-primary","mat-elevation-z8","float-right",3,"click"],[1,"ion-arrow-right-a"],["type","button","class","btn btn-primary mat-elevation-z8 float-right",3,"click",4,"ngIf"],["type","button","class","btn btn-primary mat-elevation-z8 float-right",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-primary","mat-elevation-z8","float-right",3,"disabled","click"],["class","card-block table-card",4,"ngIf"],[1,"card-block","table-card"],[1,"table-responsive"],[1,"table","table-striped","table-bordered"],["type","text","disabled","",1,"tabledit-input","form-control",2,"background-color","#3CBC8D","color","white",3,"ngModel","ngModelChange"],[1,"tabledit-span"],["type","button",1,"btn","btn-primary","mat-elevation-z8",2,"float","right",3,"disabled","click"],["type","button",1,"btn","btn-primary","mat-elevation-z8","float-left",2,"margin-bottom","10px",3,"click"],[1,"ion-arrow-left-a"],["scope","row"],[1,"tabledit-view-mode"],["type","number","min","0","step","100",1,"tabledit-input","form-control",3,"ngModel","ngModelChange"],[1,"icofont","icofont-cur-rupee","text-primary"],[1,"icofont","icofont-arrow-right","float-right","text-primary"],["type","button",1,"btn","btn-primary","mat-elevation-z8",2,"float","right",3,"click"],["id","small-Modal","tabindex","-1","role","dialog",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"table","table-hover"],["type","text","placeholder","Enter Target",1,"tabledit-input","form-control",3,"ngModel","ngModelChange"],["scope","row",2,"float","right"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"icofont","icofont-plus","text-outline-primary"],[1,"icofont","icofont-minus","text-outline-primary"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-default","waves-effect"],["type","button","data-dismiss","modal",1,"btn","btn-primary","waves-effect",3,"click"],["data-toggle","modal","data-target","#small-Modal",1,"tabledit-view-mode",3,"click"],[1,"icofont","icofont-edit","float-right","text-primary"]],template:function(t,e){1&t&&(s.Dc(0,M,93,17,"div",0),s.Dc(1,Y,12,2,"div",0)),2&t&&(s.mc("ngIf",e.showComponent),s.Db(1),s.mc("ngIf",e.showTarget))},directives:[o.l,r.t,r.k,r.e,r.r,r.j,r.d,r.n,r.u,o.k,r.b,b.b,b.a,d.a,r.m,r.o],pipes:[o.e],styles:['.asterik[_ngcontent-%COMP%]{content:"*";color:red}td[_ngcontent-%COMP%]{white-space:pre-wrap}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}']}),t})()}];let W=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Nb({type:t}),t.\u0275inj=s.Mb({imports:[[a.d.forChild(q)],a.d]}),t})();var $=i("d3UM"),L=i("kmnG"),R=i("Y70v");let H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Nb({type:t}),t.\u0275inj=s.Mb({imports:[[o.c,W,r.f,r.p,d.b.forRoot(),b.c,$.b,L.d,R.b]]}),t})()}}]);