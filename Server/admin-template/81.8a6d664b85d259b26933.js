(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{muPQ:function(t,e,i){"use strict";i.r(e),i.d(e,"ViewTargetModule",function(){return T});var o=i("ofXK"),r=i("tyNb"),c=i("mrSG"),b=i("3Pt+"),a=i("fXoL"),s=i("BSJL"),n=i("4TgG"),l=i("5eHb"),h=i("m1XX");function d(t,e){if(1&t&&(a.Vb(0,"option",32),a.Dc(1),a.Ub()),2&t){const t=e.$implicit;a.mc("ngValue",t),a.Db(1),a.Fc(" ",t.schemeName," ")}}function m(t,e){1&t&&(a.Vb(0,"div",33),a.Dc(1," Scheme is required. "),a.Ub())}function D(t,e){if(1&t&&(a.Vb(0,"option",32),a.Dc(1),a.Ub()),2&t){const t=e.$implicit;a.mc("ngValue",t),a.Db(1),a.Fc(" ",t.CompName," ")}}function u(t,e){1&t&&(a.Vb(0,"div",33),a.Dc(1," Component is required. "),a.Ub())}function V(t,e){if(1&t&&(a.Vb(0,"option",32),a.Dc(1),a.Ub()),2&t){const t=e.$implicit;a.mc("ngValue",t),a.Db(1),a.Fc(" ",t," ")}}function g(t,e){1&t&&(a.Vb(0,"div",33),a.Dc(1," Financial Year is required. "),a.Ub())}function v(t,e){if(1&t&&(a.Vb(0,"option",32),a.Dc(1),a.Ub()),2&t){const t=e.$implicit;a.mc("ngValue",t),a.Db(1),a.Fc(" ",t.SubschemeName," ")}}function P(t,e){1&t&&(a.Vb(0,"div",33),a.Dc(1," Subscheme is required. "),a.Ub())}function U(t,e){1&t&&(a.Vb(0,"div",33),a.Dc(1," Total Cost is required. "),a.Ub())}function y(t,e){if(1&t&&(a.Vb(0,"tr"),a.Vb(1,"th",43),a.Dc(2),a.Ub(),a.Vb(3,"td",43),a.Vb(4,"span",44),a.Dc(5," Total Target: "),a.Qb(6,"br"),a.Dc(7),a.Ub(),a.Ub(),a.Vb(8,"td",45),a.Vb(9,"span",44),a.Dc(10),a.Ub(),a.Ub(),a.Vb(11,"td",45),a.Dc(12),a.Ub(),a.Vb(13,"td",45),a.Vb(14,"span",44),a.Dc(15),a.Ub(),a.Ub(),a.Vb(16,"td",45),a.Dc(17),a.Ub(),a.Vb(18,"td",45),a.Vb(19,"span",44),a.Dc(20),a.Ub(),a.Ub(),a.Vb(21,"td",45),a.Dc(22),a.Ub(),a.Vb(23,"td",45),a.Dc(24),a.hc(25,"number"),a.Ub(),a.Vb(26,"td",45),a.Dc(27),a.hc(28,"number"),a.Ub(),a.Ub()),2&t){const t=e.$implicit;a.Db(2),a.Ec(t.Dist_Name),a.Db(5),a.Fc(" ",t.totalTarget," "),a.Db(3),a.Fc(" ",t.PhyGen||0," "),a.Db(2),a.Fc(" ",t.DistributedPhyGen||0," "),a.Db(3),a.Fc(" ",t.PhySCP||0," "),a.Db(2),a.Fc(" ",t.DistributedPhySCP||0," "),a.Db(3),a.Fc(" ",t.PhyTASP||0," "),a.Db(2),a.Fc(" ",t.DistributedPhyTASP||0," "),a.Db(2),a.Fc("",a.ic(25,10,t.totalPhyByDistrict)," "),a.Db(3),a.Fc(" ",a.ic(28,12,t.totalFinByDistrict),"")}}function p(t,e){if(1&t&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"h5"),a.Dc(3,"View Target"),a.Ub(),a.Vb(4,"div",2),a.Qb(5,"i",3),a.Qb(6,"i",4),a.Qb(7,"i",5),a.Ub(),a.Ub(),a.Vb(8,"div",34),a.Vb(9,"div",35),a.Vb(10,"table",36),a.Vb(11,"thead"),a.Vb(12,"tr"),a.Vb(13,"th",37),a.Dc(14,"District"),a.Ub(),a.Vb(15,"th",37),a.Dc(16,"Target Details"),a.Ub(),a.Vb(17,"th",38),a.Dc(18,"Physical-GEN (ha)"),a.Ub(),a.Vb(19,"th",38),a.Dc(20,"Physical-SCP (ha)"),a.Ub(),a.Vb(21,"th",38),a.Dc(22,"Physical-TASP (ha)"),a.Ub(),a.Vb(23,"th",38),a.Dc(24,"Total-PHY (ha)"),a.Ub(),a.Ub(),a.Vb(25,"tr"),a.Vb(26,"th"),a.Dc(27,"Available Target"),a.Ub(),a.Vb(28,"th"),a.Dc(29,"Distributed Target"),a.Ub(),a.Vb(30,"th"),a.Dc(31,"Available Target"),a.Ub(),a.Vb(32,"th"),a.Dc(33,"Distributed Target"),a.Ub(),a.Vb(34,"th"),a.Dc(35,"Available Target"),a.Ub(),a.Vb(36,"th"),a.Dc(37,"Distributed Target"),a.Ub(),a.Vb(38,"th"),a.Dc(39,"Available Target"),a.Ub(),a.Vb(40,"th"),a.Dc(41,"Distributed Target"),a.Ub(),a.Ub(),a.Ub(),a.Vb(42,"tbody"),a.Vb(43,"tr"),a.Vb(44,"th"),a.Dc(45,"Total "),a.Qb(46,"i",39),a.Ub(),a.Qb(47,"th"),a.Vb(48,"th"),a.Dc(49),a.hc(50,"number"),a.Ub(),a.Vb(51,"th"),a.Dc(52),a.hc(53,"number"),a.Ub(),a.Vb(54,"th"),a.Dc(55),a.hc(56,"number"),a.Ub(),a.Vb(57,"th"),a.Dc(58),a.hc(59,"number"),a.Ub(),a.Vb(60,"th"),a.Dc(61),a.hc(62,"number"),a.Ub(),a.Vb(63,"th"),a.Dc(64),a.hc(65,"number"),a.Ub(),a.Vb(66,"th"),a.Dc(67),a.hc(68,"number"),a.Ub(),a.Vb(69,"th"),a.Dc(70),a.hc(71,"number"),a.Ub(),a.Ub(),a.Cc(72,y,29,14,"tr",40),a.Vb(73,"tr"),a.Vb(74,"th"),a.Dc(75,"Total"),a.Ub(),a.Vb(76,"th"),a.Dc(77),a.Ub(),a.Vb(78,"th"),a.Dc(79),a.hc(80,"number"),a.Ub(),a.Vb(81,"th"),a.Dc(82),a.hc(83,"number"),a.Ub(),a.Vb(84,"th"),a.Dc(85),a.hc(86,"number"),a.Ub(),a.Vb(87,"th"),a.Dc(88),a.hc(89,"number"),a.Ub(),a.Vb(90,"th"),a.Dc(91),a.hc(92,"number"),a.Ub(),a.Vb(93,"th"),a.Dc(94),a.hc(95,"number"),a.Ub(),a.Vb(96,"th"),a.Dc(97),a.hc(98,"number"),a.Ub(),a.Vb(99,"th"),a.Dc(100),a.hc(101,"number"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(102,"div",6),a.Vb(103,"div",7),a.Vb(104,"div",9),a.Vb(105,"button",41),a.Qb(106,"i",42),a.Dc(107,"Print"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&t){const t=a.gc();a.Db(49),a.Ec(a.jc(50,19,t.totalPhyGen,"1.2-2")),a.Db(3),a.Ec(a.jc(53,22,t.totalFinGen,"1.2-2")),a.Db(3),a.Ec(a.jc(56,25,t.totalPhySCP,"1.2-2")),a.Db(3),a.Ec(a.jc(59,28,t.totalFinSCP,"1.2-2")),a.Db(3),a.Ec(a.jc(62,31,t.totalPhyTASP,"1.2-2")),a.Db(3),a.Ec(a.jc(65,34,t.totalFinTASP,"1.2-2")),a.Db(3),a.Ec(a.jc(68,37,t.totalPhy,"1.2-2")),a.Db(3),a.Ec(a.jc(71,40,t.totalFin,"1.2-2")),a.Db(2),a.mc("ngForOf",t.AllDistrictData),a.Db(5),a.Fc(" ",t.totalTarget," "),a.Db(2),a.Ec(a.jc(80,43,t.totalPhyGen,"1.2-2")),a.Db(3),a.Ec(a.jc(83,46,t.totalFinGen,"1.2-2")),a.Db(3),a.Ec(a.jc(86,49,t.totalPhySCP,"1.2-2")),a.Db(3),a.Ec(a.jc(89,52,t.totalFinSCP,"1.2-2")),a.Db(3),a.Ec(a.jc(92,55,t.totalPhyTASP,"1.2-2")),a.Db(3),a.Ec(a.jc(95,58,t.totalFinTASP,"1.2-2")),a.Db(3),a.Ec(a.jc(98,61,t.totalPhy,"1.2-2")),a.Db(3),a.Ec(a.jc(101,64,t.totalFin,"1.2-2")),a.Db(5),a.mc("useExistingCss",!0)}}const f=[{path:"",component:(()=>{class t{constructor(t,e,i,o){this.schemeService=t,this.fb=e,this.layoutService=i,this.toastr=o,this.AllSchemeData=[],this.totalPhy=0,this.totalFin=0,this.totalPhyByDistrict=0,this.totalFinByDistrict=0,this.totalPhyGen=0,this.totalFinGen=0,this.totalPhySCP=0,this.totalFinSCP=0,this.totalPhyTASP=0,this.totalFinTASP=0,this.AllDistrictData=[],this.AllDistrictTargetDetails={},this.viewTargetCard=!1,this.totalTarget=0,this.getFinYear=()=>Object(c.a)(this,void 0,void 0,function*(){try{const t=yield this.layoutService.getFinYear().toPromise();this.FinYears=t.Years,this.Season=t.Season}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getAllScheme=()=>Object(c.a)(this,void 0,void 0,function*(){try{this.AllSchemeData=yield this.schemeService.getAllScheme().toPromise()}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getSubscheme=()=>Object(c.a)(this,void 0,void 0,function*(){try{const t=this.ViewTargetForm.value.scheme.schemeId;this.SubschemeData=yield this.schemeService.getSubscheme(t).toPromise(),this.ViewTargetForm.value.component=""}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getComponent=()=>Object(c.a)(this,void 0,void 0,function*(){try{const t=this.ViewTargetForm.value.subscheme.SubschemeId;this.ComponentData=yield this.schemeService.getComponent(t).toPromise()}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getComponentCost=()=>Object(c.a)(this,void 0,void 0,function*(){try{const t=this.ViewTargetForm.value.component.CompId;this.ComponentCostData=yield this.schemeService.getComponentCost(t).toPromise(),this.ViewTargetForm.patchValue({subsidy:this.ComponentCostData.Total_Cost})}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.loadAllDistrictTarget=()=>Object(c.a)(this,void 0,void 0,function*(){try{this.viewTargetCard=!0;const t=this.ViewTargetForm.value.component.CompId,e=this.ViewTargetForm.value.subscheme.SubschemeId,i=this.ViewTargetForm.value.FinYear;this.AllDistrictTargetData=yield this.schemeService.getAllDistrictTarget(e,t,i).toPromise(),this.ViewTargetForm.controls.subsidy.enable(),this.AllDistrictTargetData.length>0&&(this.AllDistrictTargetDetails={schemeId:this.ViewTargetForm.value.scheme.schemeId,SubschemeId:this.ViewTargetForm.value.subscheme.SubschemeId,CompId:this.ViewTargetForm.value.component.CompId,Total_Cost:this.ViewTargetForm.value.subsidy,Fin_Year:this.ViewTargetForm.value.FinYear,AllDistrictTargetData:this.AllDistrictTargetData},this.loadAllDistrict())}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.loadAllDistrict=()=>Object(c.a)(this,void 0,void 0,function*(){try{this.AllDistrictData=yield this.schemeService.getAllDistrict().toPromise(),this.AllDistrictTargetDetails.AllDistrictTargetData.forEach(t=>{this.AllDistrictData.forEach(e=>{if(t.Dist_Code==e.Dist_Code)return e.PhyGen=t.avl_phygen,e.DistributedPhyGen=t.DistributedPhyGen,e.PhySCP=t.avl_physcp,e.DistributedPhySCP=t.DistributedPhySCP,e.PhyTASP=t.avl_phytasp,e.DistributedPhyTASP=t.DistributedPhyTASP,e.totalPhyByDistrict=+e.PhyGen+ +e.PhySCP+ +e.PhyTASP,e.totalFinByDistrict=+e.DistributedPhyGen+ +e.DistributedPhySCP+ +e.DistributedPhyTASP,e.totalTarget=t.totalTarget,e.distributedTarget=t.totalDistributedTarget,e})}),this.calculateTotal()}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.pageTitle="View Target",this.pageDesc="View Target Of 30 Districts of Odisha",this.breadcrumbList=["View Target Of Districts"],this.ViewTargetForm=this.fb.group({scheme:[""],subscheme:["",[b.s.required]],component:["",[b.s.required]],subsidy:["",[b.s.required]],FinYear:["",[b.s.required]]})}ngOnInit(){this.ViewTargetForm.controls.subsidy.disable(),setTimeout(()=>{this.layoutService.setTitle(this.pageTitle),this.layoutService.setPageHeadingDesc(this.pageDesc),this.layoutService.setBreadcrumb(this.breadcrumbList)}),this.getFinYear(),this.getAllScheme()}get viewFormValid(){return this.ViewTargetForm.controls}calculateTotal(){this.totalTarget=0,this.totalPhyGen=0,this.totalFinGen=0,this.totalPhySCP=0,this.totalFinSCP=0,this.totalPhyTASP=0,this.totalFinTASP=0,this.totalPhy=0,this.totalFin=0,this.AllDistrictData.forEach(t=>{this.totalPhyGen+=+t.PhyGen||0,this.totalFinGen+=+t.DistributedPhyGen||0,this.totalPhySCP+=+t.PhySCP||0,this.totalFinSCP+=+t.DistributedPhySCP||0,this.totalPhyTASP+=+t.PhyTASP||0,this.totalFinTASP+=+t.DistributedPhyTASP||0,this.totalTarget+=+t.totalTarget,this.totalPhy=this.totalPhyGen+this.totalPhySCP+this.totalPhyTASP,this.totalFin=this.totalFinGen+this.totalFinSCP+this.totalFinTASP})}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(s.a),a.Pb(b.c),a.Pb(n.a),a.Pb(l.b))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-view-target"]],decls:83,vars:12,consts:[[1,"card"],[1,"card-header"],[1,"card-header-right"],[1,"icofont","icofont-rounded-down"],[1,"icofont","icofont-refresh"],[1,"icofont","icofont-close-circled"],[1,"card-block"],[1,"row"],[1,"col-sm-12"],[1,"col-md-12"],[3,"formGroup"],[1,"col-lg-6","col","md-6"],[1,"form-group","row"],[1,"col-sm-4","col-lg-3"],["for","fuel",1,"block"],[1,"asterik"],[1,"col-sm-4","col-lg-9"],["required","","formControlName","scheme","id","scheme",1,"form-control","form-control-default",3,"change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["for","component",1,"block"],["required","","formControlName","component","id","component",1,"form-control","form-control-default",3,"change"],["for","FinYear",1,"block"],["formControlName","FinYear","id","FinYear","required","",1,"form-control","form-control-default"],["for","subscheme",1,"block"],["required","","formControlName","subscheme","id","subscheme",1,"form-control","form-control-default",3,"change"],["for","subsidy",1,"block"],["type","text","required","","formControlName","subsidy",1,"form-control","form-control-default"],[2,"padding","20px"],["type","button",1,"btn","btn-primary","mat-elevation-z8",2,"float","right",3,"disabled","click"],["class","card",4,"ngIf"],[3,"ngValue"],[1,"text-danger"],["id","print-section",1,"card-block","table-card"],[1,"table-responsive"],[1,"table","table-striped","table-bordered"],["rowspan","2",2,"vertical-align","middle","text-align","center"],["colspan","2",2,"vertical-align","middle","text-align","center"],[1,"icofont","icofont-arrow-right","float-right","text-primary"],[4,"ngFor","ngForOf"],["styleSheetFile","assets/css/custom1.css,assets/css/custom2.css","printSectionId","print-section","ngxPrint","",1,"btn","btn-primary","mat-elevation-z8","float-right",3,"useExistingCss"],[1,"icofont","icofont-print"],["scope","row"],[1,"tabledit-span"],[1,"tabledit-view-mode"]],template:function(t,e){1&t&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"h5"),a.Dc(3,"View Target"),a.Ub(),a.Vb(4,"div",2),a.Qb(5,"i",3),a.Qb(6,"i",4),a.Qb(7,"i",5),a.Ub(),a.Ub(),a.Vb(8,"div",6),a.Vb(9,"div",7),a.Vb(10,"div",8),a.Vb(11,"div",7),a.Vb(12,"div",9),a.Vb(13,"form",10),a.Vb(14,"div",7),a.Vb(15,"div",11),a.Vb(16,"div",12),a.Vb(17,"div",13),a.Vb(18,"label",14),a.Dc(19,"Scheme "),a.Vb(20,"label",15),a.Dc(21,"*"),a.Ub(),a.Dc(22,":"),a.Ub(),a.Ub(),a.Vb(23,"div",16),a.Vb(24,"select",17),a.cc("change",function(){return e.getSubscheme()}),a.Vb(25,"option",18),a.Dc(26,"--Select--"),a.Ub(),a.Cc(27,d,2,2,"option",19),a.Ub(),a.Cc(28,m,2,0,"div",20),a.Ub(),a.Ub(),a.Vb(29,"div",12),a.Vb(30,"div",13),a.Vb(31,"label",21),a.Dc(32,"Component "),a.Vb(33,"label",15),a.Dc(34,"*"),a.Ub(),a.Dc(35,":"),a.Ub(),a.Ub(),a.Vb(36,"div",16),a.Vb(37,"select",22),a.cc("change",function(){return e.getComponentCost()}),a.Vb(38,"option",18),a.Dc(39,"--Select--"),a.Ub(),a.Cc(40,D,2,2,"option",19),a.Ub(),a.Cc(41,u,2,0,"div",20),a.Ub(),a.Ub(),a.Vb(42,"div",12),a.Vb(43,"div",13),a.Vb(44,"label",23),a.Dc(45,"Financial Year "),a.Vb(46,"label",15),a.Dc(47,"*"),a.Ub(),a.Dc(48,":"),a.Ub(),a.Ub(),a.Vb(49,"div",16),a.Vb(50,"select",24),a.Vb(51,"option",18),a.Dc(52,"--Select--"),a.Ub(),a.Cc(53,V,2,2,"option",19),a.Ub(),a.Cc(54,g,2,0,"div",20),a.Ub(),a.Ub(),a.Ub(),a.Vb(55,"div",11),a.Vb(56,"div",12),a.Vb(57,"div",13),a.Vb(58,"label",25),a.Dc(59,"Subscheme "),a.Vb(60,"label",15),a.Dc(61,"*"),a.Ub(),a.Dc(62,":"),a.Ub(),a.Ub(),a.Vb(63,"div",16),a.Vb(64,"select",26),a.cc("change",function(){return e.getComponent()}),a.Vb(65,"option",18),a.Dc(66,"--Select--"),a.Ub(),a.Cc(67,v,2,2,"option",19),a.Ub(),a.Cc(68,P,2,0,"div",20),a.Ub(),a.Ub(),a.Vb(69,"div",12),a.Vb(70,"div",13),a.Vb(71,"label",27),a.Dc(72,"Total Cost "),a.Vb(73,"label",15),a.Dc(74,"*"),a.Ub(),a.Dc(75,":"),a.Ub(),a.Ub(),a.Vb(76,"div",16),a.Qb(77,"input",28),a.Cc(78,U,2,0,"div",20),a.Ub(),a.Ub(),a.Vb(79,"div",29),a.Vb(80,"button",30),a.cc("click",function(){return e.loadAllDistrictTarget()}),a.Dc(81," View Target "),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Cc(82,p,108,67,"div",31)),2&t&&(a.Db(13),a.mc("formGroup",e.ViewTargetForm),a.Db(14),a.mc("ngForOf",e.AllSchemeData),a.Db(1),a.mc("ngIf",e.viewFormValid.scheme.touched&&!e.viewFormValid.scheme.valid),a.Db(12),a.mc("ngForOf",e.ComponentData),a.Db(1),a.mc("ngIf",e.viewFormValid.component.touched&&!e.viewFormValid.component.valid),a.Db(12),a.mc("ngForOf",e.FinYears),a.Db(1),a.mc("ngIf",e.viewFormValid.FinYear.touched&&!e.viewFormValid.FinYear.valid),a.Db(13),a.mc("ngForOf",e.SubschemeData),a.Db(1),a.mc("ngIf",e.viewFormValid.subscheme.touched&&!e.viewFormValid.subscheme.valid),a.Db(10),a.mc("ngIf",e.viewFormValid.subsidy.touched&&!e.viewFormValid.subsidy.valid),a.Db(2),a.mc("disabled",!e.ViewTargetForm.valid),a.Db(2),a.mc("ngIf",e.viewTargetCard))},directives:[b.t,b.k,b.e,b.r,b.q,b.j,b.d,b.n,b.u,o.j,o.k,b.b,h.a],pipes:[o.d],styles:['.asterik[_ngcontent-%COMP%]{content:"*";color:red}td[_ngcontent-%COMP%]{white-space:pre-wrap}@media print{#print-section[_ngcontent-%COMP%]{overflow-y:visible!important;position:relative}}html[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}html[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}']}),t})()}];let S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({imports:[[r.d.forChild(f)],r.d]}),t})(),T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({imports:[[o.b,S,b.f,b.p,h.b]]}),t})()}}]);