(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"0EQZ":function(o,e,t){"use strict";t.d(e,"a",function(){return l}),t.d(e,"b",function(){return a}),t.d(e,"c",function(){return b}),t.d(e,"d",function(){return p}),t.d(e,"e",function(){return d}),t.d(e,"f",function(){return m}),t.d(e,"g",function(){return h}),t.d(e,"h",function(){return c});var i=t("7+OI"),n=t("LRne"),r=t("XNiG"),s=t("fXoL");class a{}function c(o){return o&&"function"==typeof o.connect}class l extends a{constructor(o){super(),this._data=o}connect(){return Object(i.a)(this._data)?this._data:Object(n.a)(this._data)}disconnect(){}}class d{applyChanges(o,e,t,i,n){o.forEachOperation((o,i,r)=>{let s,a;if(null==o.previousIndex){const n=t(o,i,r);s=e.createEmbeddedView(n.templateRef,n.context,n.index),a=1}else null==r?(e.remove(i),a=3):(s=e.get(i),e.move(s,r),a=2);n&&n({context:null==s?void 0:s.context,operation:a,record:o})})}detach(){}}class m{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(o,e,t,i,n){o.forEachOperation((o,r,s)=>{let a,c;null==o.previousIndex?(a=this._insertView(()=>t(o,r,s),s,e,i(o)),c=a?1:0):null==s?(this._detachAndCacheView(r,e),c=3):(a=this._moveView(r,s,e,i(o)),c=2),n&&n({context:null==a?void 0:a.context,operation:c,record:o})})}detach(){for(const o of this._viewCache)o.destroy();this._viewCache=[]}_insertView(o,e,t,i){const n=this._insertViewFromCache(e,t);if(n)return void(n.context.$implicit=i);const r=o();return t.createEmbeddedView(r.templateRef,r.context,r.index)}_detachAndCacheView(o,e){const t=e.detach(o);this._maybeCacheView(t,e)}_moveView(o,e,t,i){const n=t.get(o);return t.move(n,e),n.context.$implicit=i,n}_maybeCacheView(o,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(o);else{const t=e.indexOf(o);-1===t?o.destroy():e.remove(t)}}_insertViewFromCache(o,e){const t=this._viewCache.pop();return t&&e.insert(t,o),t||null}}class b{constructor(o=!1,e,t=!0){this._multiple=o,this._emitChanges=t,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new r.a,e&&e.length&&(o?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...o){this._verifyValueAssignment(o),o.forEach(o=>this._markSelected(o)),this._emitChangeEvent()}deselect(...o){this._verifyValueAssignment(o),o.forEach(o=>this._unmarkSelected(o)),this._emitChangeEvent()}toggle(o){this.isSelected(o)?this.deselect(o):this.select(o)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(o){return this._selection.has(o)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(o){this._multiple&&this.selected&&this._selected.sort(o)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(o){this.isSelected(o)||(this._multiple||this._unmarkAll(),this._selection.add(o),this._emitChanges&&this._selectedToEmit.push(o))}_unmarkSelected(o){this.isSelected(o)&&(this._selection.delete(o),this._emitChanges&&this._deselectedToEmit.push(o))}_unmarkAll(){this.isEmpty()||this._selection.forEach(o=>this._unmarkSelected(o))}_verifyValueAssignment(o){}}let p=(()=>{class o{constructor(){this._listeners=[]}notify(o,e){for(let t of this._listeners)t(o,e)}listen(o){return this._listeners.push(o),()=>{this._listeners=this._listeners.filter(e=>o!==e)}}ngOnDestroy(){this._listeners=[]}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=Object(s.Lb)({factory:function(){return new o},token:o,providedIn:"root"}),o})();const h=new s.s("_ViewRepeater")},"7+OI":function(o,e,t){"use strict";t.d(e,"a",function(){return n});var i=t("HDdC");function n(o){return!!o&&(o instanceof i.a||"function"==typeof o.lift&&"function"==typeof o.subscribe)}},M6bx:function(o,e,t){"use strict";t.r(e),t.d(e,"CompCostCropMappingModule",function(){return I});var i=t("ofXK"),n=t("tyNb"),r=t("mrSG"),s=t("3Pt+"),a=t("fXoL"),c=t("BSJL"),l=t("4TgG"),d=t("5eHb"),m=t("NFeN");function b(o,e){if(1&o&&(a.Vb(0,"option",33),a.Ec(1),a.Ub()),2&o){const o=e.$implicit;a.mc("ngValue",o),a.Db(1),a.Gc(" ",o," ")}}function p(o,e){1&o&&(a.Vb(0,"div",34),a.Ec(1," Financial Year is required. "),a.Ub())}function h(o,e){if(1&o&&(a.Vb(0,"option",33),a.Ec(1),a.Ub()),2&o){const o=e.$implicit;a.mc("ngValue",o),a.Db(1),a.Gc(" ",o.schemeName," ")}}function C(o,e){1&o&&(a.Vb(0,"div",34),a.Ec(1," Scheme is required. "),a.Ub())}function u(o,e){if(1&o&&(a.Vb(0,"option",33),a.Ec(1),a.Ub()),2&o){const o=e.$implicit;a.mc("ngValue",o),a.Db(1),a.Gc(" ",o.SubschemeName," ")}}function f(o,e){1&o&&(a.Vb(0,"div",34),a.Ec(1," Subscheme is required. "),a.Ub())}function S(o,e){if(1&o&&(a.Vb(0,"option",33),a.Ec(1),a.Ub()),2&o){const o=e.$implicit;a.mc("ngValue",o),a.Db(1),a.Gc(" ",o.CompName," ")}}function _(o,e){1&o&&(a.Vb(0,"div",34),a.Ec(1," Component is required. "),a.Ub())}function V(o,e){if(1&o&&(a.Vb(0,"option",33),a.Ec(1),a.Ub()),2&o){const o=e.$implicit;a.mc("ngValue",o),a.Db(1),a.Gc(" ",o.CropName," ")}}function v(o,e){if(1&o&&(a.Vb(0,"option",33),a.Ec(1),a.Ub()),2&o){const o=e.$implicit;a.mc("ngValue",o),a.Db(1),a.Gc(" ",o.SubCropName," ")}}function U(o,e){if(1&o){const o=a.Wb();a.Vb(0,"div"),a.Vb(1,"h2",35),a.Ec(2," Edit First Crop Details : "),a.Ub(),a.Vb(3,"div",1),a.Vb(4,"label",36),a.Ec(5," Crop Category "),a.Vb(6,"label",12),a.Ec(7,"*"),a.Ub(),a.Ec(8,":"),a.Ub(),a.Vb(9,"div",37),a.Vb(10,"select",38),a.cc("change",function(){a.wc(o);const e=a.gc();return e.getSubCrops(e.ComponentForm.value.cropCategory,"FirstCrop")}),a.Vb(11,"option",22),a.Ec(12,"--Select--"),a.Ub(),a.Dc(13,V,2,2,"option",19),a.Ub(),a.Ub(),a.Vb(14,"label",36),a.Ec(15," Crop "),a.Vb(16,"label",12),a.Ec(17,"*"),a.Ub(),a.Ec(18,":"),a.Ub(),a.Vb(19,"div",37),a.Vb(20,"select",39),a.Vb(21,"option",22),a.Ec(22,"--Select--"),a.Ub(),a.Dc(23,v,2,2,"option",19),a.Ub(),a.Ub(),a.Vb(24,"label",36),a.Ec(25," Seed (Per ha) "),a.Vb(26,"label",12),a.Ec(27,"*"),a.Ub(),a.Ec(28,":"),a.Ub(),a.Vb(29,"div",37),a.Qb(30,"input",40),a.Ub(),a.Ub(),a.Vb(31,"div",1),a.Vb(32,"label",36),a.Ec(33," Unit "),a.Vb(34,"label",12),a.Ec(35,"*"),a.Ub(),a.Ec(36,":"),a.Ub(),a.Vb(37,"div",37),a.Qb(38,"input",41),a.Ub(),a.Vb(39,"label",36),a.Ec(40," Cost Of Seed "),a.Vb(41,"label",12),a.Ec(42,"*"),a.Ub(),a.Ec(43,":"),a.Ub(),a.Vb(44,"div",37),a.Qb(45,"input",42),a.Ub(),a.Ub(),a.Ub()}if(2&o){const o=a.gc();a.Db(13),a.mc("ngForOf",o.AllCropData),a.Db(10),a.mc("ngForOf",o.SubCropData)}}function g(o,e){if(1&o&&(a.Vb(0,"option",33),a.Ec(1),a.Ub()),2&o){const o=e.$implicit;a.mc("ngValue",o),a.Db(1),a.Gc(" ",o.CropName," ")}}function F(o,e){if(1&o&&(a.Vb(0,"option",33),a.Ec(1),a.Ub()),2&o){const o=e.$implicit;a.mc("ngValue",o),a.Db(1),a.Gc(" ",o.SubCropName," ")}}function y(o,e){if(1&o){const o=a.Wb();a.Vb(0,"div"),a.Vb(1,"h2",35),a.Ec(2," Edit Second Crop Details : "),a.Ub(),a.Vb(3,"div",1),a.Vb(4,"label",36),a.Ec(5," Crop Category "),a.Vb(6,"label",12),a.Ec(7,"*"),a.Ub(),a.Ec(8,":"),a.Ub(),a.Vb(9,"div",37),a.Vb(10,"select",43),a.cc("change",function(){a.wc(o);const e=a.gc();return e.getSubCrops(e.ComponentForm.value.fixedCropCategory,"SecondCrop")}),a.Vb(11,"option",22),a.Ec(12,"--Select--"),a.Ub(),a.Dc(13,g,2,2,"option",19),a.Ub(),a.Ub(),a.Vb(14,"label",36),a.Ec(15," Crop "),a.Vb(16,"label",12),a.Ec(17,"*"),a.Ub(),a.Ec(18,":"),a.Ub(),a.Vb(19,"div",37),a.Vb(20,"select",44),a.Vb(21,"option",22),a.Ec(22,"--Select--"),a.Ub(),a.Dc(23,F,2,2,"option",19),a.Ub(),a.Ub(),a.Vb(24,"label",36),a.Ec(25," Seed (Per ha) "),a.Vb(26,"label",12),a.Ec(27,"*"),a.Ub(),a.Ec(28,":"),a.Ub(),a.Vb(29,"div",37),a.Qb(30,"input",45),a.Ub(),a.Ub(),a.Vb(31,"div",1),a.Vb(32,"label",36),a.Ec(33," Unit "),a.Vb(34,"label",12),a.Ec(35,"*"),a.Ub(),a.Ec(36,":"),a.Ub(),a.Vb(37,"div",37),a.Qb(38,"input",46),a.Ub(),a.Vb(39,"label",36),a.Ec(40," Cost Of Seed "),a.Vb(41,"label",12),a.Ec(42,"*"),a.Ub(),a.Ec(43,":"),a.Ub(),a.Vb(44,"div",37),a.Qb(45,"input",47),a.Ub(),a.Ub(),a.Ub()}if(2&o){const o=a.gc();a.Db(13),a.mc("ngForOf",o.AllCropData),a.Db(10),a.mc("ngForOf",o.SecondSubCropData)}}function E(o,e){if(1&o&&(a.Vb(0,"option",33),a.Ec(1),a.Ub()),2&o){const o=e.$implicit;a.mc("ngValue",o),a.Db(1),a.Gc(" ",o.CropName," ")}}function D(o,e){if(1&o&&(a.Vb(0,"option",33),a.Ec(1),a.Ub()),2&o){const o=e.$implicit;a.mc("ngValue",o),a.Db(1),a.Gc(" ",o.SubCropName," ")}}function x(o,e){if(1&o){const o=a.Wb();a.Vb(0,"div"),a.Vb(1,"h2",35),a.Ec(2," Edit Additional Crop Details : "),a.Ub(),a.Vb(3,"div",1),a.Vb(4,"label",36),a.Ec(5," Crop Category "),a.Vb(6,"label",12),a.Ec(7,"*"),a.Ub(),a.Ec(8,":"),a.Ub(),a.Vb(9,"div",37),a.Vb(10,"select",48),a.cc("change",function(){a.wc(o);const e=a.gc();return e.getSubCrops(e.ComponentForm.value.additionalCropCategory,"AdditionalCrop")}),a.Vb(11,"option",22),a.Ec(12,"--Select--"),a.Ub(),a.Dc(13,E,2,2,"option",19),a.Ub(),a.Ub(),a.Vb(14,"label",36),a.Ec(15," Crop "),a.Vb(16,"label",12),a.Ec(17,"*"),a.Ub(),a.Ec(18,":"),a.Ub(),a.Vb(19,"div",37),a.Vb(20,"select",49),a.Vb(21,"option",22),a.Ec(22,"--Select--"),a.Ub(),a.Dc(23,D,2,2,"option",19),a.Ub(),a.Ub(),a.Vb(24,"label",36),a.Ec(25," Seed (Per ha) "),a.Vb(26,"label",12),a.Ec(27,"*"),a.Ub(),a.Ec(28,":"),a.Ub(),a.Vb(29,"div",37),a.Qb(30,"input",50),a.Ub(),a.Ub(),a.Vb(31,"div",1),a.Vb(32,"label",36),a.Ec(33," Unit "),a.Vb(34,"label",12),a.Ec(35,"*"),a.Ub(),a.Ec(36,":"),a.Ub(),a.Vb(37,"div",37),a.Qb(38,"input",51),a.Ub(),a.Vb(39,"label",36),a.Ec(40," Cost Of Seed "),a.Vb(41,"label",12),a.Ec(42,"*"),a.Ub(),a.Ec(43,":"),a.Ub(),a.Vb(44,"div",37),a.Qb(45,"input",52),a.Ub(),a.Ub(),a.Ub()}if(2&o){const o=a.gc();a.Db(13),a.mc("ngForOf",o.AllCropData),a.Db(10),a.mc("ngForOf",o.additionalSubCropData)}}const T=[{path:"",component:(()=>{class o{constructor(o,e,t,i){this.schemeService=o,this.layoutService=e,this.fb=t,this.toastr=i,this.dataSource=[],this.ComponentList=[],this.FinYear="2022-23",this.ComponentTypeList={CompTypeName:"",CompTypeId:""},this.showtable=!1,this.cropbox=!1,this.fixedCropBox=!1,this.additionalCropBox=!1,this.subCropBox=!1,this.fixedSubCropBox=!1,this.additionalSubCropBox=!1,this.multiselect=!1,this.dropdownSettings={},this.editFirstCrop=!1,this.editSecondCrop=!1,this.editAdditionalCrop=!1,this.getFinYear=()=>Object(r.a)(this,void 0,void 0,function*(){try{const o=yield this.layoutService.getFinYear().toPromise();this.FinYears=o.Years,this.Season=o.Season}catch(o){this.toastr.error("Sorry. Server problem. Please try again."),console.error(o)}}),this.getAllScheme=()=>Object(r.a)(this,void 0,void 0,function*(){try{this.editFirstCrop=!1,this.editSecondCrop=!1,this.editAdditionalCrop=!1,this.AllSchemeData=[],this.SubschemeData=[],this.ComponentData=[],this.ComponentCostData=[],this.ComponentForm.patchValue({Total_Cost:"",Season:"",componentType:""}),this.AllSchemeData=yield this.schemeService.getAllScheme().toPromise()}catch(o){this.toastr.error("Sorry. Server problem. Please try again."),console.error(o)}}),this.getSubscheme=()=>Object(r.a)(this,void 0,void 0,function*(){try{this.editFirstCrop=!1,this.editSecondCrop=!1,this.editAdditionalCrop=!1,this.SubschemeData=[],this.ComponentData=[],this.ComponentCostData=[],this.ComponentForm.patchValue({Total_Cost:"",Season:"",componentType:""});const o=this.ComponentForm.value.schemeName.schemeId;this.SubschemeData=yield this.schemeService.getSubscheme(o).toPromise()}catch(o){this.toastr.error("Sorry. Server problem. Please try again."),console.error(o)}}),this.getComponent=()=>Object(r.a)(this,void 0,void 0,function*(){try{this.editFirstCrop=!1,this.editSecondCrop=!1,this.editAdditionalCrop=!1,this.ComponentData=[],this.ComponentCostData=[],this.ComponentForm.patchValue({Total_Cost:"",Season:"",componentType:""});const o=this.ComponentForm.value.Fin_Year,e=this.ComponentForm.value.SubschemeName.SubschemeId;this.ComponentData=yield this.schemeService.getComponent(o,e).toPromise()}catch(o){this.toastr.error("Sorry. Server problem. Please try again."),console.error(o)}}),this.getAllCrops=()=>Object(r.a)(this,void 0,void 0,function*(){try{this.AllCropData=yield this.schemeService.getAllCrops().toPromise()}catch(o){this.toastr.error("Sorry. Server problem. Please try again."),console.error(o)}}),this.getSubCrops=(o,e)=>Object(r.a)(this,void 0,void 0,function*(){try{const t=yield this.schemeService.getSubCrops(o.CropId).toPromise();"FirstCrop"==e?(this.SubCropData=[],this.ComponentForm.patchValue({subCrop:""}),this.SubCropData=t):"SecondCrop"==e?(this.SecondSubCropData=[],this.ComponentForm.patchValue({subCrop:""}),this.SecondSubCropData=t):(this.additionalSubCropData=[],this.ComponentForm.patchValue({subCrop:""}),this.additionalSubCropData=t)}catch(t){this.toastr.error("Sorry. Server problem. Please try again."),console.error(t)}}),this.getComponentCost=()=>Object(r.a)(this,void 0,void 0,function*(){try{this.ComponentCostData=[],this.ComponentForm.patchValue({Total_Cost:"",Season:"",componentType:""});const o=this.ComponentForm.value.Fin_Year,e=this.ComponentForm.value.CompName.CompId;this.ComponentCostData=yield this.schemeService.getComponentCost(e,o).toPromise(),this.ComponentCropDetails=yield this.schemeService.getComponentCropDetails(e,o).toPromise(),this.ComponentForm.patchValue({Season:this.ComponentForm.value.CompName.Season}),this.ComponentForm.patchValue({Total_Cost:this.ComponentCostData.Total_Cost}),this.ComponentForm.patchValue({Seed_Per_ha:this.ComponentCropDetails.Seed_Per_ha}),this.ComponentForm.patchValue({Unit:this.ComponentCropDetails.Unit}),this.ComponentForm.patchValue({Cost_of_Seed:this.ComponentCropDetails.Cost_of_Seed}),this.ComponentForm.patchValue({fixedSeed_Per_ha:this.ComponentCropDetails.FixedCropSeedPerha}),this.ComponentForm.patchValue({fixedUnit:this.ComponentCropDetails.FixedCropUnit}),this.ComponentForm.patchValue({fixedCost_of_Seed:this.ComponentCropDetails.FixedCrop_CostofSeed}),this.ComponentForm.patchValue({additionalSeed_Per_ha:this.ComponentCropDetails.AdditionalCropSeedPerha}),this.ComponentForm.patchValue({additionalUnit:this.ComponentCropDetails.AdditionalCropUnit}),this.ComponentForm.patchValue({additionalCost_of_Seed:this.ComponentCropDetails.AdditionalCrop_CostofSeed})}catch(o){this.toastr.error("Sorry. Server problem. Please try again."),console.error(o)}}),this.getComponentTypeDetails=()=>Object(r.a)(this,void 0,void 0,function*(){try{const o=this.ComponentForm.value.CompName.CompTypeId,e=yield this.schemeService.getComponentTypeDetails(o).toPromise();this.ComponentTypeList=e,"compType_1"==this.ComponentTypeList.CompTypeId?(this.editFirstCrop=!0,this.editSecondCrop=!1,this.editAdditionalCrop=!1,this.ComponentForm.controls.Season.disable(),this.ComponentForm.controls.Total_Cost.disable(),this.ComponentForm.controls.cropCategory.disable(),this.ComponentForm.controls.subCrop.disable(),this.ComponentForm.controls.Seed_Per_ha.disable(),this.ComponentForm.controls.Unit.disable(),this.ComponentForm.controls.Cost_of_Seed.disable()):"compType_2"==this.ComponentTypeList.CompTypeId?(this.editFirstCrop=!0,this.editSecondCrop=!0,this.editAdditionalCrop=!1,this.ComponentForm.controls.Season.disable(),this.ComponentForm.controls.Total_Cost.disable(),this.ComponentForm.controls.cropCategory.disable(),this.ComponentForm.controls.subCrop.disable(),this.ComponentForm.controls.Seed_Per_ha.disable(),this.ComponentForm.controls.Unit.disable(),this.ComponentForm.controls.Cost_of_Seed.disable(),this.ComponentForm.controls.fixedCropCategory.disable(),this.ComponentForm.controls.fixedSubCrop.disable(),this.ComponentForm.controls.fixedSeed_Per_ha.disable(),this.ComponentForm.controls.fixedUnit.disable(),this.ComponentForm.controls.fixedCost_of_Seed.disable()):"compType_3"==this.ComponentTypeList.CompTypeId&&(this.editFirstCrop=!0,this.editSecondCrop=!1,this.editAdditionalCrop=!0,this.ComponentForm.controls.Season.disable(),this.ComponentForm.controls.Total_Cost.disable(),this.ComponentForm.controls.cropCategory.disable(),this.ComponentForm.controls.subCrop.disable(),this.ComponentForm.controls.Seed_Per_ha.disable(),this.ComponentForm.controls.Unit.disable(),this.ComponentForm.controls.Cost_of_Seed.disable(),this.ComponentForm.controls.additionalCropCategory.disable(),this.ComponentForm.controls.additionalSubCrop.disable(),this.ComponentForm.controls.additionalSeed_Per_ha.disable(),this.ComponentForm.controls.additionalUnit.disable(),this.ComponentForm.controls.additionalCost_of_Seed.disable())}catch(o){this.toastr.error("Sorry. Server problem. Please try again."),console.error(o)}}),this.edit=()=>{this.ComponentForm.controls.Season.enable(),this.ComponentForm.controls.Total_Cost.enable(),this.ComponentForm.controls.cropCategory.enable(),this.ComponentForm.controls.subCrop.enable(),this.ComponentForm.controls.Seed_Per_ha.enable(),this.ComponentForm.controls.Unit.enable(),this.ComponentForm.controls.Cost_of_Seed.enable(),this.ComponentForm.controls.fixedCropCategory.enable(),this.ComponentForm.controls.fixedSubCrop.enable(),this.ComponentForm.controls.fixedSeed_Per_ha.enable(),this.ComponentForm.controls.fixedUnit.enable(),this.ComponentForm.controls.fixedCost_of_Seed.enable(),this.ComponentForm.controls.additionalCropCategory.enable(),this.ComponentForm.controls.additionalSubCrop.enable(),this.ComponentForm.controls.additionalSeed_Per_ha.enable(),this.ComponentForm.controls.additionalUnit.enable(),this.ComponentForm.controls.additionalCost_of_Seed.enable()},this.chooseCrop=()=>{switch(this.CompTypeId=this.ComponentForm.value.componentType.CompTypeId,this.CompTypeId){case"compType_1":this.subCropBox=!0,this.fixedSubCropBox=!1,this.additionalSubCropBox=!1;break;case"compType_2":this.subCropBox=!1,this.fixedSubCropBox=!0,this.multiselect=!0,this.additionalSubCropBox=!1;break;default:this.subCropBox=!1,this.multiselect=!1,this.fixedSubCropBox=!0,this.additionalSubCropBox=!0}},this.UpdateComponentCost=()=>Object(r.a)(this,void 0,void 0,function*(){try{const o={Fin_Year:this.ComponentForm.value.Fin_Year,CompId:this.ComponentForm.value.CompName.CompId,Season:this.ComponentForm.value.Season,Total_Cost:this.ComponentForm.value.Total_Cost,CropId:this.ComponentForm.value.cropCategory.CropId,SubCropId:this.ComponentForm.value.subCrop.SubCropId,Seed_Per_ha:this.ComponentForm.value.Seed_Per_ha,Unit:this.ComponentForm.value.Unit,Cost_of_Seed:this.ComponentForm.value.Cost_of_Seed,FixedCropId:this.ComponentForm.value.fixedCropCategory.CropId,FixedSubCropId:this.ComponentForm.value.fixedSubCrop.SubCropId,FixedCropSeedPerha:this.ComponentForm.value.fixedSeed_Per_ha,FixedCropUnit:this.ComponentForm.value.fixedUnit,FixedCrop_CostofSeed:this.ComponentForm.value.fixedCost_of_Seed,AdditionalCropId:this.ComponentForm.value.additionalCropCategory.CropId,AdditionalSubCropId:this.ComponentForm.value.additionalSubCrop.SubCropId,AdditionalCropSeedPerha:this.ComponentForm.value.additionalSeed_Per_ha,AdditionalCropUnit:this.ComponentForm.value.additionalUnit,AdditionalCrop_CostofSeed:this.ComponentForm.value.additionalCost_of_Seed},e=yield this.schemeService.UpdateComponentCostCropMapping(o).toPromise();this.toastr.success(e.message),this.ComponentForm.reset(),this.editFirstCrop=!1,this.editSecondCrop=!1,this.editAdditionalCrop=!1}catch(o){this.toastr.error("Sorry. Server problem. Please try again."),console.error(o)}}),this.getAllComponent=()=>Object(r.a)(this,void 0,void 0,function*(){try{const o=this.ComponentForm.value.Fin_Year,e=this.ComponentForm.value.SubschemeName.SubschemeId;this.AllComponentData=yield this.schemeService.getComponent(o,e).toPromise()}catch(o){this.toastr.error("Sorry. Server problem. Please try again."),console.error(o)}}),this.pageTitle="Update Component details",this.pageDesc="Update Component cost and crop details",this.breadcrumbList=["Update Component details"],this.ComponentList=[],this.ComponentForm=this.fb.group({Fin_Year:["",[s.s.required]],schemeName:["",[s.s.required]],SubschemeName:["",[s.s.required]],CompName:["",[s.s.required]],Total_Cost:["",[s.s.required]],Season:["",[s.s.required]],componentType:[""],cropCategory:[""],subCrop:[""],Seed_Per_ha:[""],Unit:[""],Cost_of_Seed:[""],fixedCropCategory:[""],fixedSubCrop:[""],fixedSeed_Per_ha:[""],fixedUnit:[""],fixedCost_of_Seed:[""],additionalCropCategory:[""],additionalSubCrop:[""],additionalSeed_Per_ha:[""],additionalUnit:[""],additionalCost_of_Seed:[""]})}ngOnInit(){this.getFinYear(),setTimeout(()=>{this.layoutService.setTitle(this.pageTitle),this.layoutService.setPageHeadingDesc(this.pageDesc),this.layoutService.setBreadcrumb(this.breadcrumbList)}),this.dropdownSettings={idField:"SubCropId",textField:"SubCropName"},this.ComponentForm.controls.Total_Cost.disable()}get ComponentFormValid(){return this.ComponentForm.controls}}return o.\u0275fac=function(e){return new(e||o)(a.Pb(c.a),a.Pb(l.a),a.Pb(s.c),a.Pb(d.b))},o.\u0275cmp=a.Jb({type:o,selectors:[["app-comp-cost-crop-mapping"]],decls:114,vars:14,consts:[[1,"page-body"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-header-right"],[1,"icofont","icofont-rounded-down"],[1,"icofont","icofont-refresh"],[1,"icofont","icofont-close-circled"],[1,"card-block","table-bordered"],[3,"formGroup"],[1,"col-sm-2","col-lg-2","col-form-label"],[1,"asterik"],[1,"col-sm-4","col-lg-4"],[1,"input-group"],[1,"input-group-addon"],[1,"ion-arrow-down-b"],["formControlName","Fin_Year","id","Fin_Year","required","",1,"form-control","form-control-default",3,"change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["formControlName","schemeName","id","scheme",1,"form-control","form-control-default",3,"change"],["value","","disabled",""],["formControlName","SubschemeName","id","SubschemeName",1,"form-control","form-control-default",3,"change"],["formControlName","CompName","id","CompName",1,"form-control","form-control-default",3,"change"],["type","number","min","0","formControlName","Total_Cost",1,"form-control","form-control-default"],["formControlName","Season","id","Season",1,"form-control","form-control-default"],["value","Kharif"],["value","Rabi"],["value","Kharif & Rabi"],["color","success",3,"click"],[4,"ngIf"],["type","button",1,"btn","btn-primary","mat-elevation-z8",2,"float","right",3,"disabled","click"],[3,"ngValue"],[1,"text-danger"],[2,"background-color","rgba(0, 128, 0, 0.58)","color","white"],[1,"col-sm-1","col-lg-1","col-form-label"],[1,"col-sm-3","col-lg-3"],["formControlName","cropCategory","id","cropCategory",1,"form-control","form-control-default",3,"change"],["formControlName","subCrop","id","subCrop",1,"form-control","form-control-default"],["type","number","min","0","formControlName","Seed_Per_ha","id","Seed_Per_ha",1,"form-control","form-control-default"],["type","text","formControlName","Unit","id","Unit",1,"form-control","form-control-default"],["type","number","min","0","formControlName","Cost_of_Seed","id","Cost_of_Seed",1,"form-control","form-control-default"],["formControlName","fixedCropCategory","id","cropCategory",1,"form-control","form-control-default",3,"change"],["formControlName","fixedSubCrop","id","subCrop2",1,"form-control","form-control-default"],["type","number","min","0","formControlName","fixedSeed_Per_ha","id","Seed_Per_ha2",1,"form-control","form-control-default"],["type","text","formControlName","fixedUnit","id","Unit2",1,"form-control","form-control-default"],["type","number","min","0","formControlName","fixedCost_of_Seed","id","fixedCost_of_Seed",1,"form-control","form-control-default"],["formControlName","additionalCropCategory","id","cropCategory3",1,"form-control","form-control-default",3,"change"],["formControlName","additionalSubCrop","id","additionalsubCrop",1,"form-control","form-control-default"],["type","number","min","0","formControlName","additionalSeed_Per_ha","id","additionalSeed_Per_ha",1,"form-control","form-control-default"],["type","text","formControlName","additionalUnit","id","additionalUnit",1,"form-control","form-control-default"],["type","number","min","0","formControlName","additionalCost_of_Seed","id","additionalCost_of_Seed",1,"form-control","form-control-default"]],template:function(o,e){1&o&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"div",3),a.Vb(4,"div",4),a.Vb(5,"h5"),a.Ec(6,"Component Input"),a.Ub(),a.Vb(7,"span"),a.Ec(8,"Add Component under Subscheme"),a.Ub(),a.Vb(9,"div",5),a.Qb(10,"i",6),a.Qb(11,"i",7),a.Qb(12,"i",8),a.Ub(),a.Ub(),a.Vb(13,"div",9),a.Vb(14,"form",10),a.Vb(15,"div",1),a.Vb(16,"label",11),a.Ec(17,"Financial Year "),a.Vb(18,"label",12),a.Ec(19,"*"),a.Ub(),a.Ec(20,":"),a.Ub(),a.Vb(21,"div",13),a.Vb(22,"div",14),a.Vb(23,"span",15),a.Qb(24,"i",16),a.Ub(),a.Vb(25,"select",17),a.cc("change",function(){return e.getAllScheme()}),a.Vb(26,"option",18),a.Ec(27,"--Select--"),a.Ub(),a.Dc(28,b,2,2,"option",19),a.Ub(),a.Ub(),a.Dc(29,p,2,0,"div",20),a.Ub(),a.Vb(30,"label",11),a.Ec(31,"Scheme"),a.Vb(32,"label",12),a.Ec(33,"*"),a.Ub(),a.Ec(34,":"),a.Ub(),a.Vb(35,"div",13),a.Vb(36,"div",14),a.Vb(37,"span",15),a.Qb(38,"i",16),a.Ub(),a.Vb(39,"select",21),a.cc("change",function(){return e.getSubscheme()}),a.Vb(40,"option",22),a.Ec(41,"--Select--"),a.Ub(),a.Dc(42,h,2,2,"option",19),a.Ub(),a.Ub(),a.Dc(43,C,2,0,"div",20),a.Ub(),a.Ub(),a.Vb(44,"div",1),a.Vb(45,"label",11),a.Ec(46,"Subscheme "),a.Vb(47,"label",12),a.Ec(48,"*"),a.Ub(),a.Ec(49,":"),a.Ub(),a.Vb(50,"div",13),a.Vb(51,"div",14),a.Vb(52,"span",15),a.Qb(53,"i",16),a.Ub(),a.Vb(54,"select",23),a.cc("change",function(){return e.getComponent()}),a.Vb(55,"option",22),a.Ec(56,"--Select--"),a.Ub(),a.Dc(57,u,2,2,"option",19),a.Ub(),a.Ub(),a.Dc(58,f,2,0,"div",20),a.Ub(),a.Vb(59,"label",11),a.Ec(60,"Component"),a.Vb(61,"label",12),a.Ec(62,"*"),a.Ub(),a.Ec(63,":"),a.Ub(),a.Vb(64,"div",13),a.Vb(65,"div",14),a.Vb(66,"span",15),a.Qb(67,"i",16),a.Ub(),a.Vb(68,"select",24),a.cc("change",function(){return e.getComponentTypeDetails(),e.getComponentCost(),e.getAllCrops()}),a.Vb(69,"option",22),a.Ec(70,"--Select--"),a.Ub(),a.Dc(71,S,2,2,"option",19),a.Ub(),a.Ub(),a.Dc(72,_,2,0,"div",20),a.Ub(),a.Ub(),a.Vb(73,"div",1),a.Vb(74,"label",11),a.Ec(75,"Component Type :"),a.Ub(),a.Vb(76,"div",13),a.Ec(77),a.Ub(),a.Vb(78,"label",11),a.Ec(79,"Total Cost :"),a.Ub(),a.Vb(80,"div",13),a.Qb(81,"input",25),a.Ub(),a.Ub(),a.Qb(82,"br"),a.Vb(83,"div",1),a.Vb(84,"label",11),a.Ec(85,"Season "),a.Vb(86,"label",12),a.Ec(87,"*"),a.Ub(),a.Ec(88,":"),a.Ub(),a.Vb(89,"div",13),a.Vb(90,"select",26),a.Vb(91,"option",22),a.Ec(92,"--Select--"),a.Ub(),a.Vb(93,"option",27),a.Ec(94," Kharif "),a.Ub(),a.Vb(95,"option",28),a.Ec(96," Rabi "),a.Ub(),a.Vb(97,"option",29),a.Ec(98," Kharif & Rabi "),a.Ub(),a.Ub(),a.Ub(),a.Vb(99,"label",11),a.Ec(100,"Edit :"),a.Ub(),a.Vb(101,"div",13),a.Vb(102,"mat-icon",30),a.cc("click",function(){return e.edit()}),a.Ec(103,"create"),a.Ub(),a.Ub(),a.Ub(),a.Qb(104,"br"),a.Dc(105,U,46,2,"div",31),a.Dc(106,y,46,2,"div",31),a.Dc(107,x,46,2,"div",31),a.Ub(),a.Qb(108,"br"),a.Qb(109,"br"),a.Vb(110,"button",32),a.cc("click",function(){return e.UpdateComponentCost()}),a.Ec(111," Update"),a.Ub(),a.Qb(112,"br"),a.Qb(113,"br"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&o&&(a.Db(14),a.mc("formGroup",e.ComponentForm),a.Db(14),a.mc("ngForOf",e.FinYears),a.Db(1),a.mc("ngIf",e.ComponentFormValid.Fin_Year.touched&&!e.ComponentFormValid.Fin_Year.valid),a.Db(13),a.mc("ngForOf",e.AllSchemeData),a.Db(1),a.mc("ngIf",e.ComponentFormValid.schemeName.touched&&!e.ComponentFormValid.schemeName.valid),a.Db(14),a.mc("ngForOf",e.SubschemeData),a.Db(1),a.mc("ngIf",e.ComponentFormValid.SubschemeName.touched&&!e.ComponentFormValid.SubschemeName.valid),a.Db(13),a.mc("ngForOf",e.ComponentData),a.Db(1),a.mc("ngIf",e.ComponentFormValid.CompName.touched&&!e.ComponentFormValid.CompName.valid),a.Db(5),a.Gc(" ",e.ComponentTypeList.CompTypeName," "),a.Db(28),a.mc("ngIf",e.editFirstCrop),a.Db(1),a.mc("ngIf",e.editSecondCrop),a.Db(1),a.mc("ngIf",e.editAdditionalCrop),a.Db(3),a.mc("disabled",!e.ComponentForm.valid))},directives:[s.t,s.k,s.e,s.r,s.j,s.d,s.q,s.n,s.u,i.k,i.l,s.o,s.b,m.a],styles:['.mat-success[_ngcontent-%COMP%]{background-color:#fff;color:green}.asterik[_ngcontent-%COMP%]{content:"*";color:red}td[_ngcontent-%COMP%]{white-space:pre-wrap}']}),o})()}];let P=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.Nb({type:o}),o.\u0275inj=a.Mb({imports:[[n.d.forChild(T)],n.d]}),o})();var N=t("xJkR"),w=t("QibW"),A=t("Egam");let I=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.Nb({type:o}),o.\u0275inj=a.Mb({imports:[[i.c,P,N.a,w.c,s.f,s.p,A.b,m.b]]}),o})()},z6cu:function(o,e,t){"use strict";t.d(e,"a",function(){return n});var i=t("HDdC");function n(o,e){return new i.a(e?t=>e.schedule(r,0,{error:o,subscriber:t}):e=>e.error(o))}function r({error:o,subscriber:e}){e.error(o)}}}]);